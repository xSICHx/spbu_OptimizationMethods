\doxysection{Redux.\+h}
\hypertarget{_redux_8h_source}{}\label{_redux_8h_source}\index{packages/Eigen.3.3.3/build/native/include/Eigen/src/Core/Redux.h@{packages/Eigen.3.3.3/build/native/include/Eigen/src/Core/Redux.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2008\ Gael\ Guennebaud\ <gael.guennebaud@inria.fr>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ Copyright\ (C)\ 2006-\/2008\ Benoit\ Jacob\ <jacob.benoit.1@gmail.com>}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_REDUX\_H}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#define\ EIGEN\_REDUX\_H}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{namespace\ }Eigen\ \{\ }
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{comment}{//\ TODO}}
\DoxyCodeLine{00019\ \textcolor{comment}{//\ \ *\ implement\ other\ kind\ of\ vectorization}}
\DoxyCodeLine{00020\ \textcolor{comment}{//\ \ *\ factorize\ code}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{00023\ \textcolor{comment}{*\ Part\ 1\ :\ the\ logic\ deciding\ a\ strategy\ for\ vectorization\ and\ unrolling}}
\DoxyCodeLine{00024\ \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Func,\ \textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00027\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__traits}{redux\_traits}}}
\DoxyCodeLine{00028\ \{}
\DoxyCodeLine{00029\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ find\_best\_packet<typename\ Derived::Scalar,Derived::SizeAtCompileTime>::type\ PacketType;}
\DoxyCodeLine{00031\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00032\ \ \ \ \ PacketSize\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1unpacket__traits}{unpacket\_traits<PacketType>::size}},}
\DoxyCodeLine{00033\ \ \ \ \ InnerMaxSize\ =\ int(Derived::IsRowMajor)}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ Derived::MaxColsAtCompileTime}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ Derived::MaxRowsAtCompileTime}
\DoxyCodeLine{00036\ \ \ \};}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00039\ \ \ \ \ MightVectorize\ =\ (int(Derived::Flags)\&ActualPacketAccessBit)}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&\&\ (\mbox{\hyperlink{struct_eigen_1_1internal_1_1functor__traits}{functor\_traits<Func>::PacketAccess}}),}
\DoxyCodeLine{00041\ \ \ \ \ MayLinearVectorize\ =\ bool(MightVectorize)\ \&\&\ (int(Derived::Flags)\&\mbox{\hyperlink{group__flags_ga4b983a15d57cd55806df618ac544d09e}{LinearAccessBit}}),}
\DoxyCodeLine{00042\ \ \ \ \ MaySliceVectorize\ \ =\ \textcolor{keywordtype}{bool}(MightVectorize)\ \&\&\ int(InnerMaxSize)>=3*PacketSize}
\DoxyCodeLine{00043\ \ \ \};}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00046\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00047\ \ \ \ \ Traversal\ =\ int(MayLinearVectorize)\ ?\ int(LinearVectorizedTraversal)}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ int(MaySliceVectorize)\ \ ?\ int(SliceVectorizedTraversal)}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ int(DefaultTraversal)}
\DoxyCodeLine{00050\ \ \ \};}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00053\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00054\ \ \ \ \ Cost\ =\ Derived::SizeAtCompileTime\ ==\ Dynamic\ ?\ HugeCost}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ :\ Derived::SizeAtCompileTime\ *\ Derived::CoeffReadCost\ +\ (Derived::SizeAtCompileTime-\/1)\ *\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1functor__traits}{functor\_traits<Func>::Cost}},}
\DoxyCodeLine{00056\ \ \ \ \ UnrollingLimit\ =\ EIGEN\_UNROLLING\_LIMIT\ *\ (\textcolor{keywordtype}{int}(Traversal)\ ==\ int(DefaultTraversal)\ ?\ 1\ :\ int(PacketSize))}
\DoxyCodeLine{00057\ \ \ \};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00060\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00061\ \ \ \ \ Unrolling\ =\ Cost\ <=\ UnrollingLimit\ ?\ CompleteUnrolling\ :\ NoUnrolling}
\DoxyCodeLine{00062\ \ \ \};}
\DoxyCodeLine{00063\ \ \ }
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#ifdef\ EIGEN\_DEBUG\_ASSIGN}}
\DoxyCodeLine{00065\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ debug()}
\DoxyCodeLine{00066\ \ \ \{}
\DoxyCodeLine{00067\ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Xpr:\ "{}}\ <<\ \textcolor{keyword}{typeid}(\textcolor{keyword}{typename}\ Derived::XprType).name()\ <<\ std::endl;}
\DoxyCodeLine{00068\ \ \ \ \ std::cerr.setf(std::ios::hex,\ std::ios::basefield);}
\DoxyCodeLine{00069\ \ \ \ \ EIGEN\_DEBUG\_VAR(Derived::Flags)}
\DoxyCodeLine{00070\ \ \ \ \ std::cerr.unsetf(std::ios::hex);}
\DoxyCodeLine{00071\ \ \ \ \ EIGEN\_DEBUG\_VAR(InnerMaxSize)}
\DoxyCodeLine{00072\ \ \ \ \ EIGEN\_DEBUG\_VAR(PacketSize)}
\DoxyCodeLine{00073\ \ \ \ \ EIGEN\_DEBUG\_VAR(MightVectorize)}
\DoxyCodeLine{00074\ \ \ \ \ EIGEN\_DEBUG\_VAR(MayLinearVectorize)}
\DoxyCodeLine{00075\ \ \ \ \ EIGEN\_DEBUG\_VAR(MaySliceVectorize)}
\DoxyCodeLine{00076\ \ \ \ \ EIGEN\_DEBUG\_VAR(Traversal)}
\DoxyCodeLine{00077\ \ \ \ \ EIGEN\_DEBUG\_VAR(UnrollingLimit)}
\DoxyCodeLine{00078\ \ \ \ \ EIGEN\_DEBUG\_VAR(Unrolling)}
\DoxyCodeLine{00079\ \ \ \ \ std::cerr\ <<\ std::endl;}
\DoxyCodeLine{00080\ \ \ \}}
\DoxyCodeLine{00081\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00082\ \};}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{00085\ \textcolor{comment}{*\ Part\ 2\ :\ unrollers}}
\DoxyCodeLine{00086\ \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \textcolor{comment}{/***\ no\ vectorization\ ***/}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Func,\ \textcolor{keyword}{typename}\ Derived,\ \textcolor{keywordtype}{int}\ Start,\ \textcolor{keywordtype}{int}\ Length>}
\DoxyCodeLine{00091\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__novec__unroller}{redux\_novec\_unroller}}}
\DoxyCodeLine{00092\ \{}
\DoxyCodeLine{00093\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00094\ \ \ \ \ HalfLength\ =\ Length/2}
\DoxyCodeLine{00095\ \ \ \};}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Derived::Scalar\ Scalar;}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ EIGEN\_DEVICE\_FUNC}
\DoxyCodeLine{00100\ \ \ \textcolor{keyword}{static}\ EIGEN\_STRONG\_INLINE\ Scalar\ run(\textcolor{keyword}{const}\ Derived\ \&mat,\ \textcolor{keyword}{const}\ Func\&\ func)}
\DoxyCodeLine{00101\ \ \ \{}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordflow}{return}\ func(\mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__novec__unroller}{redux\_novec\_unroller<Func,\ Derived,\ Start,\ HalfLength>::run}}(mat,func),}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__novec__unroller}{redux\_novec\_unroller<Func,\ Derived,\ Start+HalfLength,\ Length-\/HalfLength>::run}}(mat,func));}
\DoxyCodeLine{00104\ \ \ \}}
\DoxyCodeLine{00105\ \};}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Func,\ \textcolor{keyword}{typename}\ Derived,\ \textcolor{keywordtype}{int}\ Start>}
\DoxyCodeLine{00108\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__novec__unroller}{redux\_novec\_unroller}}<Func,\ Derived,\ Start,\ 1>}
\DoxyCodeLine{00109\ \{}
\DoxyCodeLine{00110\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00111\ \ \ \ \ outer\ =\ Start\ /\ Derived::InnerSizeAtCompileTime,}
\DoxyCodeLine{00112\ \ \ \ \ inner\ =\ Start\ \%\ Derived::InnerSizeAtCompileTime}
\DoxyCodeLine{00113\ \ \ \};}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Derived::Scalar\ Scalar;}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ EIGEN\_DEVICE\_FUNC}
\DoxyCodeLine{00118\ \ \ \textcolor{keyword}{static}\ EIGEN\_STRONG\_INLINE\ Scalar\ run(\textcolor{keyword}{const}\ Derived\ \&mat,\ \textcolor{keyword}{const}\ Func\&)}
\DoxyCodeLine{00119\ \ \ \{}
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keywordflow}{return}\ mat.coeffByOuterInner(outer,\ inner);}
\DoxyCodeLine{00121\ \ \ \}}
\DoxyCodeLine{00122\ \};}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \textcolor{comment}{//\ This\ is\ actually\ dead\ code\ and\ will\ never\ be\ called.\ It\ is\ required}}
\DoxyCodeLine{00125\ \textcolor{comment}{//\ to\ prevent\ false\ warnings\ regarding\ failed\ inlining\ though}}
\DoxyCodeLine{00126\ \textcolor{comment}{//\ for\ 0\ length\ run()\ will\ never\ be\ called\ at\ all.}}
\DoxyCodeLine{00127\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Func,\ \textcolor{keyword}{typename}\ Derived,\ \textcolor{keywordtype}{int}\ Start>}
\DoxyCodeLine{00128\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__novec__unroller}{redux\_novec\_unroller}}<Func,\ Derived,\ Start,\ 0>}
\DoxyCodeLine{00129\ \{}
\DoxyCodeLine{00130\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Derived::Scalar\ Scalar;}
\DoxyCodeLine{00131\ \ \ EIGEN\_DEVICE\_FUNC\ }
\DoxyCodeLine{00132\ \ \ \textcolor{keyword}{static}\ EIGEN\_STRONG\_INLINE\ Scalar\ run(\textcolor{keyword}{const}\ Derived\&,\ \textcolor{keyword}{const}\ Func\&)\ \{\ \textcolor{keywordflow}{return}\ Scalar();\ \}}
\DoxyCodeLine{00133\ \};}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \textcolor{comment}{/***\ vectorization\ ***/}}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Func,\ \textcolor{keyword}{typename}\ Derived,\ \textcolor{keywordtype}{int}\ Start,\ \textcolor{keywordtype}{int}\ Length>}
\DoxyCodeLine{00138\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__vec__unroller}{redux\_vec\_unroller}}}
\DoxyCodeLine{00139\ \{}
\DoxyCodeLine{00140\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00141\ \ \ \ \ PacketSize\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__traits}{redux\_traits<Func,\ Derived>::PacketSize}},}
\DoxyCodeLine{00142\ \ \ \ \ HalfLength\ =\ Length/2}
\DoxyCodeLine{00143\ \ \ \};}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Derived::Scalar\ Scalar;}
\DoxyCodeLine{00146\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ redux\_traits<Func,\ Derived>::PacketType\ PacketScalar;}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \ \ \textcolor{keyword}{static}\ EIGEN\_STRONG\_INLINE\ PacketScalar\ run(\textcolor{keyword}{const}\ Derived\ \&mat,\ \textcolor{keyword}{const}\ Func\&\ func)}
\DoxyCodeLine{00149\ \ \ \{}
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keywordflow}{return}\ func.packetOp(}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__vec__unroller}{redux\_vec\_unroller<Func,\ Derived,\ Start,\ HalfLength>::run}}(mat,func),}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__vec__unroller}{redux\_vec\_unroller<Func,\ Derived,\ Start+HalfLength,\ Length-\/HalfLength>::run}}(mat,func)\ );}
\DoxyCodeLine{00153\ \ \ \}}
\DoxyCodeLine{00154\ \};}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Func,\ \textcolor{keyword}{typename}\ Derived,\ \textcolor{keywordtype}{int}\ Start>}
\DoxyCodeLine{00157\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__vec__unroller}{redux\_vec\_unroller}}<Func,\ Derived,\ Start,\ 1>}
\DoxyCodeLine{00158\ \{}
\DoxyCodeLine{00159\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00160\ \ \ \ \ index\ =\ Start\ *\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__traits}{redux\_traits<Func,\ Derived>::PacketSize}},}
\DoxyCodeLine{00161\ \ \ \ \ outer\ =\ index\ /\ int(Derived::InnerSizeAtCompileTime),}
\DoxyCodeLine{00162\ \ \ \ \ inner\ =\ index\ \%\ int(Derived::InnerSizeAtCompileTime),}
\DoxyCodeLine{00163\ \ \ \ \ alignment\ =\ Derived::Alignment}
\DoxyCodeLine{00164\ \ \ \};}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Derived::Scalar\ Scalar;}
\DoxyCodeLine{00167\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ redux\_traits<Func,\ Derived>::PacketType\ PacketScalar;}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \ \ \textcolor{keyword}{static}\ EIGEN\_STRONG\_INLINE\ PacketScalar\ run(\textcolor{keyword}{const}\ Derived\ \&mat,\ \textcolor{keyword}{const}\ Func\&)}
\DoxyCodeLine{00170\ \ \ \{}
\DoxyCodeLine{00171\ \ \ \ \ \textcolor{keywordflow}{return}\ mat.template\ packetByOuterInner<alignment,PacketScalar>(outer,\ inner);}
\DoxyCodeLine{00172\ \ \ \}}
\DoxyCodeLine{00173\ \};}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{00176\ \textcolor{comment}{*\ Part\ 3\ :\ implementation\ of\ all\ cases}}
\DoxyCodeLine{00177\ \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Func,\ \textcolor{keyword}{typename}\ Derived,}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ Traversal\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__traits}{redux\_traits<Func,\ Derived>::Traversal}},}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ Unrolling\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__traits}{redux\_traits<Func,\ Derived>::Unrolling}}}
\DoxyCodeLine{00182\ >}
\DoxyCodeLine{00183\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__impl}{redux\_impl}};}
\DoxyCodeLine{00184\ }
\DoxyCodeLine{00185\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Func,\ \textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00186\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__impl}{redux\_impl}}<Func,\ Derived,\ DefaultTraversal,\ NoUnrolling>}
\DoxyCodeLine{00187\ \{}
\DoxyCodeLine{00188\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Derived::Scalar\ Scalar;}
\DoxyCodeLine{00189\ \ \ EIGEN\_DEVICE\_FUNC}
\DoxyCodeLine{00190\ \ \ \textcolor{keyword}{static}\ EIGEN\_STRONG\_INLINE\ Scalar\ run(\textcolor{keyword}{const}\ Derived\ \&mat,\ \textcolor{keyword}{const}\ Func\&\ func)}
\DoxyCodeLine{00191\ \ \ \{}
\DoxyCodeLine{00192\ \ \ \ \ eigen\_assert(mat.rows()>0\ \&\&\ mat.cols()>0\ \&\&\ \textcolor{stringliteral}{"{}you\ are\ using\ an\ empty\ matrix"{}});}
\DoxyCodeLine{00193\ \ \ \ \ Scalar\ res;}
\DoxyCodeLine{00194\ \ \ \ \ res\ =\ mat.coeffByOuterInner(0,\ 0);}
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keywordflow}{for}(Index\ i\ =\ 1;\ i\ <\ mat.innerSize();\ ++i)}
\DoxyCodeLine{00196\ \ \ \ \ \ \ res\ =\ func(res,\ mat.coeffByOuterInner(0,\ i));}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordflow}{for}(Index\ i\ =\ 1;\ i\ <\ mat.outerSize();\ ++i)}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ j\ =\ 0;\ j\ <\ mat.innerSize();\ ++j)}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ res\ =\ func(res,\ mat.coeffByOuterInner(i,\ j));}
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00201\ \ \ \}}
\DoxyCodeLine{00202\ \};}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Func,\ \textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00205\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__impl}{redux\_impl}}<Func,Derived,\ DefaultTraversal,\ CompleteUnrolling>}
\DoxyCodeLine{00206\ \ \ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__novec__unroller}{redux\_novec\_unroller}}<Func,Derived,\ 0,\ Derived::SizeAtCompileTime>}
\DoxyCodeLine{00207\ \{\};}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Func,\ \textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00210\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__impl}{redux\_impl}}<Func,\ Derived,\ LinearVectorizedTraversal,\ NoUnrolling>}
\DoxyCodeLine{00211\ \{}
\DoxyCodeLine{00212\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Derived::Scalar\ Scalar;}
\DoxyCodeLine{00213\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ redux\_traits<Func,\ Derived>::PacketType\ PacketScalar;}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \ \ \textcolor{keyword}{static}\ Scalar\ run(\textcolor{keyword}{const}\ Derived\ \&mat,\ \textcolor{keyword}{const}\ Func\&\ func)}
\DoxyCodeLine{00216\ \ \ \{}
\DoxyCodeLine{00217\ \ \ \ \ \textcolor{keyword}{const}\ Index\ size\ =\ mat.size();}
\DoxyCodeLine{00218\ \ \ \ \ }
\DoxyCodeLine{00219\ \ \ \ \ \textcolor{keyword}{const}\ Index\ packetSize\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__traits}{redux\_traits<Func,\ Derived>::PacketSize}};}
\DoxyCodeLine{00220\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ packetAlignment\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1unpacket__traits}{unpacket\_traits<PacketScalar>::alignment}};}
\DoxyCodeLine{00221\ \ \ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00222\ \ \ \ \ \ \ alignment0\ =\ (bool(Derived::Flags\ \&\ \mbox{\hyperlink{group__flags_gabf1e9d0516a933445a4c307ad8f14915}{DirectAccessBit}})\ \&\&\ bool(\mbox{\hyperlink{struct_eigen_1_1internal_1_1packet__traits}{packet\_traits<Scalar>::AlignedOnScalar}}))\ ?\ \textcolor{keywordtype}{int}(packetAlignment)\ :\ int(\mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1a4e19dd09d5ff42295ba1d72d12a46686}{Unaligned}}),}
\DoxyCodeLine{00223\ \ \ \ \ \ \ alignment\ =\ EIGEN\_PLAIN\_ENUM\_MAX(alignment0,\ Derived::Alignment)}
\DoxyCodeLine{00224\ \ \ \ \ \};}
\DoxyCodeLine{00225\ \ \ \ \ \textcolor{keyword}{const}\ Index\ alignedStart\ =\ internal::first\_default\_aligned(mat.nestedExpression());}
\DoxyCodeLine{00226\ \ \ \ \ \textcolor{keyword}{const}\ Index\ alignedSize2\ =\ ((size-\/alignedStart)/(2*packetSize))*(2*packetSize);}
\DoxyCodeLine{00227\ \ \ \ \ \textcolor{keyword}{const}\ Index\ alignedSize\ =\ ((size-\/alignedStart)/(packetSize))*(packetSize);}
\DoxyCodeLine{00228\ \ \ \ \ \textcolor{keyword}{const}\ Index\ alignedEnd2\ =\ alignedStart\ +\ alignedSize2;}
\DoxyCodeLine{00229\ \ \ \ \ \textcolor{keyword}{const}\ Index\ alignedEnd\ \ =\ alignedStart\ +\ alignedSize;}
\DoxyCodeLine{00230\ \ \ \ \ Scalar\ res;}
\DoxyCodeLine{00231\ \ \ \ \ \textcolor{keywordflow}{if}(alignedSize)}
\DoxyCodeLine{00232\ \ \ \ \ \{}
\DoxyCodeLine{00233\ \ \ \ \ \ \ PacketScalar\ packet\_res0\ =\ mat.template\ packet<alignment,PacketScalar>(alignedStart);}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(alignedSize>packetSize)\ \textcolor{comment}{//\ we\ have\ at\ least\ two\ packets\ to\ partly\ unroll\ the\ loop}}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ PacketScalar\ packet\_res1\ =\ mat.template\ packet<alignment,PacketScalar>(alignedStart+packetSize);}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ index\ =\ alignedStart\ +\ 2*packetSize;\ index\ <\ alignedEnd2;\ index\ +=\ 2*packetSize)}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ packet\_res0\ =\ func.packetOp(packet\_res0,\ mat.template\ packet<alignment,PacketScalar>(index));}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ packet\_res1\ =\ func.packetOp(packet\_res1,\ mat.template\ packet<alignment,PacketScalar>(index+packetSize));}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ packet\_res0\ =\ func.packetOp(packet\_res0,packet\_res1);}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(alignedEnd>alignedEnd2)}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \ \ packet\_res0\ =\ func.packetOp(packet\_res0,\ mat.template\ packet<alignment,PacketScalar>(alignedEnd2));}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00247\ \ \ \ \ \ \ res\ =\ func.predux(packet\_res0);}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ index\ =\ 0;\ index\ <\ alignedStart;\ ++index)}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ res\ =\ func(res,mat.coeff(index));}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ index\ =\ alignedEnd;\ index\ <\ size;\ ++index)}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ res\ =\ func(res,mat.coeff(index));}
\DoxyCodeLine{00254\ \ \ \ \ \}}
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{comment}{//\ too\ small\ to\ vectorize\ anything.}}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ since\ this\ is\ dynamic-\/size\ hence\ inefficient\ anyway\ for\ such\ small\ sizes,\ don't\ try\ to\ optimize.}}
\DoxyCodeLine{00257\ \ \ \ \ \{}
\DoxyCodeLine{00258\ \ \ \ \ \ \ res\ =\ mat.coeff(0);}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ index\ =\ 1;\ index\ <\ size;\ ++index)}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ res\ =\ func(res,mat.coeff(index));}
\DoxyCodeLine{00261\ \ \ \ \ \}}
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00263\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00264\ \ \ \}}
\DoxyCodeLine{00265\ \};}
\DoxyCodeLine{00266\ }
\DoxyCodeLine{00267\ \textcolor{comment}{//\ NOTE:\ for\ SliceVectorizedTraversal\ we\ simply\ bypass\ unrolling}}
\DoxyCodeLine{00268\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Func,\ \textcolor{keyword}{typename}\ Derived,\ \textcolor{keywordtype}{int}\ Unrolling>}
\DoxyCodeLine{00269\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__impl}{redux\_impl}}<Func,\ Derived,\ SliceVectorizedTraversal,\ Unrolling>}
\DoxyCodeLine{00270\ \{}
\DoxyCodeLine{00271\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Derived::Scalar\ Scalar;}
\DoxyCodeLine{00272\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ redux\_traits<Func,\ Derived>::PacketType\ PacketType;}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{static}\ Scalar\ run(\textcolor{keyword}{const}\ Derived\ \&mat,\ \textcolor{keyword}{const}\ Func\&\ func)}
\DoxyCodeLine{00275\ \ \ \{}
\DoxyCodeLine{00276\ \ \ \ \ eigen\_assert(mat.rows()>0\ \&\&\ mat.cols()>0\ \&\&\ \textcolor{stringliteral}{"{}you\ are\ using\ an\ empty\ matrix"{}});}
\DoxyCodeLine{00277\ \ \ \ \ \textcolor{keyword}{const}\ Index\ innerSize\ =\ mat.innerSize();}
\DoxyCodeLine{00278\ \ \ \ \ \textcolor{keyword}{const}\ Index\ outerSize\ =\ mat.outerSize();}
\DoxyCodeLine{00279\ \ \ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00280\ \ \ \ \ \ \ packetSize\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__traits}{redux\_traits<Func,\ Derived>::PacketSize}}}
\DoxyCodeLine{00281\ \ \ \ \ \};}
\DoxyCodeLine{00282\ \ \ \ \ \textcolor{keyword}{const}\ Index\ packetedInnerSize\ =\ ((innerSize)/packetSize)*packetSize;}
\DoxyCodeLine{00283\ \ \ \ \ Scalar\ res;}
\DoxyCodeLine{00284\ \ \ \ \ \textcolor{keywordflow}{if}(packetedInnerSize)}
\DoxyCodeLine{00285\ \ \ \ \ \{}
\DoxyCodeLine{00286\ \ \ \ \ \ \ PacketType\ packet\_res\ =\ mat.template\ packet<Unaligned,PacketType>(0,0);}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ j=0;\ j<outerSize;\ ++j)}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ i=(j==0?packetSize:0);\ i<packetedInnerSize;\ i+=Index(packetSize))}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ packet\_res\ =\ func.packetOp(packet\_res,\ mat.template\ packetByOuterInner<Unaligned,PacketType>(j,i));}
\DoxyCodeLine{00290\ }
\DoxyCodeLine{00291\ \ \ \ \ \ \ res\ =\ func.predux(packet\_res);}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ j=0;\ j<outerSize;\ ++j)}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ i=packetedInnerSize;\ i<innerSize;\ ++i)}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ res\ =\ func(res,\ mat.coeffByOuterInner(j,i));}
\DoxyCodeLine{00295\ \ \ \ \ \}}
\DoxyCodeLine{00296\ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{comment}{//\ too\ small\ to\ vectorize\ anything.}}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ since\ this\ is\ dynamic-\/size\ hence\ inefficient\ anyway\ for\ such\ small\ sizes,\ don't\ try\ to\ optimize.}}
\DoxyCodeLine{00298\ \ \ \ \ \{}
\DoxyCodeLine{00299\ \ \ \ \ \ \ res\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__impl}{redux\_impl<Func,\ Derived,\ DefaultTraversal,\ NoUnrolling>::run}}(mat,\ func);}
\DoxyCodeLine{00300\ \ \ \ \ \}}
\DoxyCodeLine{00301\ }
\DoxyCodeLine{00302\ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00303\ \ \ \}}
\DoxyCodeLine{00304\ \};}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00306\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Func,\ \textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00307\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__impl}{redux\_impl}}<Func,\ Derived,\ LinearVectorizedTraversal,\ CompleteUnrolling>}
\DoxyCodeLine{00308\ \{}
\DoxyCodeLine{00309\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Derived::Scalar\ Scalar;}
\DoxyCodeLine{00310\ }
\DoxyCodeLine{00311\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ redux\_traits<Func,\ Derived>::PacketType\ PacketScalar;}
\DoxyCodeLine{00312\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00313\ \ \ \ \ PacketSize\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__traits}{redux\_traits<Func,\ Derived>::PacketSize}},}
\DoxyCodeLine{00314\ \ \ \ \ Size\ =\ Derived::SizeAtCompileTime,}
\DoxyCodeLine{00315\ \ \ \ \ VectorizedSize\ =\ (Size\ /\ PacketSize)\ *\ PacketSize}
\DoxyCodeLine{00316\ \ \ \};}
\DoxyCodeLine{00317\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{static}\ EIGEN\_STRONG\_INLINE\ Scalar\ run(\textcolor{keyword}{const}\ Derived\ \&mat,\ \textcolor{keyword}{const}\ Func\&\ func)}
\DoxyCodeLine{00318\ \ \ \{}
\DoxyCodeLine{00319\ \ \ \ \ eigen\_assert(mat.rows()>0\ \&\&\ mat.cols()>0\ \&\&\ \textcolor{stringliteral}{"{}you\ are\ using\ an\ empty\ matrix"{}});}
\DoxyCodeLine{00320\ \ \ \ \ \textcolor{keywordflow}{if}\ (VectorizedSize\ >\ 0)\ \{}
\DoxyCodeLine{00321\ \ \ \ \ \ \ Scalar\ res\ =\ func.predux(redux\_vec\_unroller<Func,\ Derived,\ 0,\ Size\ /\ PacketSize>::run(mat,func));}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (VectorizedSize\ !=\ Size)}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ res\ =\ func(res,redux\_novec\_unroller<Func,\ Derived,\ VectorizedSize,\ Size-\/VectorizedSize>::run(mat,func));}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00325\ \ \ \ \ \}}
\DoxyCodeLine{00326\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ redux\_novec\_unroller<Func,\ Derived,\ 0,\ Size>::run(mat,func);}
\DoxyCodeLine{00328\ \ \ \ \ \}}
\DoxyCodeLine{00329\ \ \ \}}
\DoxyCodeLine{00330\ \};}
\DoxyCodeLine{00331\ }
\DoxyCodeLine{00332\ \textcolor{comment}{//\ evaluator\ adaptor}}
\DoxyCodeLine{00333\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_XprType>}
\DoxyCodeLine{00334\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_eigen_1_1internal_1_1redux__evaluator}{redux\_evaluator}}}
\DoxyCodeLine{00335\ \{}
\DoxyCodeLine{00336\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00337\ \ \ \textcolor{keyword}{typedef}\ \_XprType\ XprType;}
\DoxyCodeLine{00338\ \ \ EIGEN\_DEVICE\_FUNC\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{class_eigen_1_1internal_1_1redux__evaluator}{redux\_evaluator}}(\textcolor{keyword}{const}\ XprType\ \&xpr)\ :\ m\_evaluator(xpr),\ m\_xpr(xpr)\ \{\}}
\DoxyCodeLine{00339\ \ \ }
\DoxyCodeLine{00340\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ XprType::Scalar\ Scalar;}
\DoxyCodeLine{00341\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ XprType::CoeffReturnType\ CoeffReturnType;}
\DoxyCodeLine{00342\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ XprType::PacketScalar\ PacketScalar;}
\DoxyCodeLine{00343\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ XprType::PacketReturnType\ PacketReturnType;}
\DoxyCodeLine{00344\ \ \ }
\DoxyCodeLine{00345\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00346\ \ \ \ \ MaxRowsAtCompileTime\ =\ XprType::MaxRowsAtCompileTime,}
\DoxyCodeLine{00347\ \ \ \ \ MaxColsAtCompileTime\ =\ XprType::MaxColsAtCompileTime,}
\DoxyCodeLine{00348\ \ \ \ \ \textcolor{comment}{//\ TODO\ we\ should\ not\ remove\ DirectAccessBit\ and\ rather\ find\ an\ elegant\ way\ to\ query\ the\ alignment\ offset\ at\ runtime\ from\ the\ evaluator}}
\DoxyCodeLine{00349\ \ \ \ \ Flags\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator<XprType>::Flags}}\ \&\ \string~DirectAccessBit,}
\DoxyCodeLine{00350\ \ \ \ \ IsRowMajor\ =\ XprType::IsRowMajor,}
\DoxyCodeLine{00351\ \ \ \ \ SizeAtCompileTime\ =\ XprType::SizeAtCompileTime,}
\DoxyCodeLine{00352\ \ \ \ \ InnerSizeAtCompileTime\ =\ XprType::InnerSizeAtCompileTime,}
\DoxyCodeLine{00353\ \ \ \ \ CoeffReadCost\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator<XprType>::CoeffReadCost}},}
\DoxyCodeLine{00354\ \ \ \ \ Alignment\ =\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator<XprType>::Alignment}}}
\DoxyCodeLine{00355\ \ \ \};}
\DoxyCodeLine{00356\ \ \ }
\DoxyCodeLine{00357\ \ \ EIGEN\_DEVICE\_FUNC\ Index\ rows()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_xpr.rows();\ \}}
\DoxyCodeLine{00358\ \ \ EIGEN\_DEVICE\_FUNC\ Index\ cols()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_xpr.cols();\ \}}
\DoxyCodeLine{00359\ \ \ EIGEN\_DEVICE\_FUNC\ Index\ size()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_xpr.size();\ \}}
\DoxyCodeLine{00360\ \ \ EIGEN\_DEVICE\_FUNC\ Index\ innerSize()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_xpr.innerSize();\ \}}
\DoxyCodeLine{00361\ \ \ EIGEN\_DEVICE\_FUNC\ Index\ outerSize()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_xpr.outerSize();\ \}}
\DoxyCodeLine{00362\ }
\DoxyCodeLine{00363\ \ \ EIGEN\_DEVICE\_FUNC}
\DoxyCodeLine{00364\ \ \ CoeffReturnType\ coeff(Index\ row,\ Index\ col)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00365\ \textcolor{keyword}{\ \ }\{\ \textcolor{keywordflow}{return}\ m\_evaluator.coeff(row,\ col);\ \}}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00367\ \ \ EIGEN\_DEVICE\_FUNC}
\DoxyCodeLine{00368\ \ \ CoeffReturnType\ coeff(Index\ index)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00369\ \textcolor{keyword}{\ \ }\{\ \textcolor{keywordflow}{return}\ m\_evaluator.coeff(index);\ \}}
\DoxyCodeLine{00370\ }
\DoxyCodeLine{00371\ \ \ \textcolor{keyword}{template}<\textcolor{keywordtype}{int}\ LoadMode,\ \textcolor{keyword}{typename}\ PacketType>}
\DoxyCodeLine{00372\ \ \ PacketType\ packet(Index\ row,\ Index\ col)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00373\ \textcolor{keyword}{\ \ }\{\ \textcolor{keywordflow}{return}\ m\_evaluator.template\ packet<LoadMode,PacketType>(row,\ col);\ \}}
\DoxyCodeLine{00374\ }
\DoxyCodeLine{00375\ \ \ \textcolor{keyword}{template}<\textcolor{keywordtype}{int}\ LoadMode,\ \textcolor{keyword}{typename}\ PacketType>}
\DoxyCodeLine{00376\ \ \ PacketType\ packet(Index\ index)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00377\ \textcolor{keyword}{\ \ }\{\ \textcolor{keywordflow}{return}\ m\_evaluator.template\ packet<LoadMode,PacketType>(index);\ \}}
\DoxyCodeLine{00378\ \ \ }
\DoxyCodeLine{00379\ \ \ EIGEN\_DEVICE\_FUNC}
\DoxyCodeLine{00380\ \ \ CoeffReturnType\ coeffByOuterInner(Index\ outer,\ Index\ inner)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00381\ \textcolor{keyword}{\ \ }\{\ \textcolor{keywordflow}{return}\ m\_evaluator.coeff(IsRowMajor\ ?\ outer\ :\ inner,\ IsRowMajor\ ?\ inner\ :\ outer);\ \}}
\DoxyCodeLine{00382\ \ \ }
\DoxyCodeLine{00383\ \ \ \textcolor{keyword}{template}<\textcolor{keywordtype}{int}\ LoadMode,\ \textcolor{keyword}{typename}\ PacketType>}
\DoxyCodeLine{00384\ \ \ PacketType\ packetByOuterInner(Index\ outer,\ Index\ inner)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00385\ \textcolor{keyword}{\ \ }\{\ \textcolor{keywordflow}{return}\ m\_evaluator.template\ packet<LoadMode,PacketType>(IsRowMajor\ ?\ outer\ :\ inner,\ IsRowMajor\ ?\ inner\ :\ outer);\ \}}
\DoxyCodeLine{00386\ \ \ }
\DoxyCodeLine{00387\ \ \ \textcolor{keyword}{const}\ XprType\ \&\ nestedExpression()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_xpr;\ \}}
\DoxyCodeLine{00388\ \ \ }
\DoxyCodeLine{00389\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00390\ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1evaluator}{internal::evaluator<XprType>}}\ m\_evaluator;}
\DoxyCodeLine{00391\ \ \ \textcolor{keyword}{const}\ XprType\ \&m\_xpr;}
\DoxyCodeLine{00392\ \};}
\DoxyCodeLine{00393\ }
\DoxyCodeLine{00394\ \}\ \textcolor{comment}{//\ end\ namespace\ internal}}
\DoxyCodeLine{00395\ }
\DoxyCodeLine{00396\ \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{00397\ \textcolor{comment}{*\ Part\ 4\ :\ public\ API}}
\DoxyCodeLine{00398\ \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{00399\ }
\DoxyCodeLine{00400\ }
\DoxyCodeLine{00408\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00409\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Func>}
\DoxyCodeLine{00410\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<Derived>::Scalar}}}
\DoxyCodeLine{00411\ \mbox{\hyperlink{class_eigen_1_1_dense_base}{DenseBase<Derived>::redux}}(\textcolor{keyword}{const}\ Func\&\ func)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00412\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00413\ \ \ eigen\_assert(this-\/>rows()>0\ \&\&\ this-\/>cols()>0\ \&\&\ \textcolor{stringliteral}{"{}you\ are\ using\ an\ empty\ matrix"{}});}
\DoxyCodeLine{00414\ }
\DoxyCodeLine{00415\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{class_eigen_1_1internal_1_1redux__evaluator}{internal::redux\_evaluator<Derived>}}\ ThisEvaluator;}
\DoxyCodeLine{00416\ \ \ ThisEvaluator\ thisEval(derived());}
\DoxyCodeLine{00417\ \ \ }
\DoxyCodeLine{00418\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1redux__impl}{internal::redux\_impl<Func,\ ThisEvaluator>::run}}(thisEval,\ func);}
\DoxyCodeLine{00419\ \}}
\DoxyCodeLine{00420\ }
\DoxyCodeLine{00424\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00425\ EIGEN\_STRONG\_INLINE\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<Derived>::Scalar}}}
\DoxyCodeLine{00426\ \mbox{\hyperlink{class_eigen_1_1_dense_base_a6634944be3d4fef551b57ffad30467f2}{DenseBase<Derived>::minCoeff}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00427\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00428\ \ \ \textcolor{keywordflow}{return}\ derived().redux(\mbox{\hyperlink{struct_eigen_1_1internal_1_1scalar__min__op}{Eigen::internal::scalar\_min\_op<Scalar,Scalar>}}());}
\DoxyCodeLine{00429\ \}}
\DoxyCodeLine{00430\ }
\DoxyCodeLine{00434\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00435\ EIGEN\_STRONG\_INLINE\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<Derived>::Scalar}}}
\DoxyCodeLine{00436\ \mbox{\hyperlink{class_eigen_1_1_dense_base_ac0d151ec47eb7a44a3a5ba1587ddbeb4}{DenseBase<Derived>::maxCoeff}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00437\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00438\ \ \ \textcolor{keywordflow}{return}\ derived().redux(\mbox{\hyperlink{struct_eigen_1_1internal_1_1scalar__max__op}{Eigen::internal::scalar\_max\_op<Scalar,Scalar>}}());}
\DoxyCodeLine{00439\ \}}
\DoxyCodeLine{00440\ }
\DoxyCodeLine{00447\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00448\ EIGEN\_STRONG\_INLINE\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<Derived>::Scalar}}}
\DoxyCodeLine{00449\ \mbox{\hyperlink{class_eigen_1_1_dense_base_a4dee689c76ff86da9d8e49950604597b}{DenseBase<Derived>::sum}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00450\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00451\ \ \ \textcolor{keywordflow}{if}(SizeAtCompileTime==0\ ||\ (SizeAtCompileTime==Dynamic\ \&\&\ size()==0))}
\DoxyCodeLine{00452\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_eigen_1_1_dense_base_a5feed465b3a8e60c47e73ecce83e39a2}{Scalar}}(0);}
\DoxyCodeLine{00453\ \ \ \textcolor{keywordflow}{return}\ derived().redux(\mbox{\hyperlink{struct_eigen_1_1internal_1_1scalar__sum__op}{Eigen::internal::scalar\_sum\_op<Scalar,Scalar>}}());}
\DoxyCodeLine{00454\ \}}
\DoxyCodeLine{00455\ }
\DoxyCodeLine{00460\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00461\ EIGEN\_STRONG\_INLINE\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<Derived>::Scalar}}}
\DoxyCodeLine{00462\ \mbox{\hyperlink{class_eigen_1_1_dense_base_a89d85ac0cf349eb53481c148033459d7}{DenseBase<Derived>::mean}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00463\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00464\ \textcolor{preprocessor}{\#ifdef\ \_\_INTEL\_COMPILER}}
\DoxyCodeLine{00465\ \textcolor{preprocessor}{\ \ \#pragma\ warning\ push}}
\DoxyCodeLine{00466\ \textcolor{preprocessor}{\ \ \#pragma\ warning\ (\ disable\ :\ 2259\ )}}
\DoxyCodeLine{00467\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00468\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_eigen_1_1_dense_base_a5feed465b3a8e60c47e73ecce83e39a2}{Scalar}}(derived().redux(\mbox{\hyperlink{struct_eigen_1_1internal_1_1scalar__sum__op}{Eigen::internal::scalar\_sum\_op<Scalar,Scalar>}}()))\ /\ \mbox{\hyperlink{class_eigen_1_1_dense_base_a5feed465b3a8e60c47e73ecce83e39a2}{Scalar}}(this-\/>size());}
\DoxyCodeLine{00469\ \textcolor{preprocessor}{\#ifdef\ \_\_INTEL\_COMPILER}}
\DoxyCodeLine{00470\ \textcolor{preprocessor}{\ \ \#pragma\ warning\ pop}}
\DoxyCodeLine{00471\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00472\ \}}
\DoxyCodeLine{00473\ }
\DoxyCodeLine{00481\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00482\ EIGEN\_STRONG\_INLINE\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<Derived>::Scalar}}}
\DoxyCodeLine{00483\ \mbox{\hyperlink{class_eigen_1_1_dense_base_a175ceb201923b4c6767770559e47e40e}{DenseBase<Derived>::prod}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00484\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00485\ \ \ \textcolor{keywordflow}{if}(SizeAtCompileTime==0\ ||\ (SizeAtCompileTime==Dynamic\ \&\&\ size()==0))}
\DoxyCodeLine{00486\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_eigen_1_1_dense_base_a5feed465b3a8e60c47e73ecce83e39a2}{Scalar}}(1);}
\DoxyCodeLine{00487\ \ \ \textcolor{keywordflow}{return}\ derived().redux(\mbox{\hyperlink{struct_eigen_1_1internal_1_1scalar__product__op}{Eigen::internal::scalar\_product\_op<Scalar>}}());}
\DoxyCodeLine{00488\ \}}
\DoxyCodeLine{00489\ }
\DoxyCodeLine{00496\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00497\ EIGEN\_STRONG\_INLINE\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<Derived>::Scalar}}}
\DoxyCodeLine{00498\ \mbox{\hyperlink{class_eigen_1_1_matrix_base_a2cc7a95b161f3a660bdb8ff048b44161}{MatrixBase<Derived>::trace}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00499\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00500\ \ \ \textcolor{keywordflow}{return}\ derived().diagonal().sum();}
\DoxyCodeLine{00501\ \}}
\DoxyCodeLine{00502\ }
\DoxyCodeLine{00503\ \}\ \textcolor{comment}{//\ end\ namespace\ Eigen}}
\DoxyCodeLine{00504\ }
\DoxyCodeLine{00505\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_REDUX\_H}}

\end{DoxyCode}
