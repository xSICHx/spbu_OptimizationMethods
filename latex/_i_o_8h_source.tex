\doxysection{IO.\+h}
\hypertarget{_i_o_8h_source}{}\label{_i_o_8h_source}\index{packages/Eigen.3.3.3/build/native/include/Eigen/src/Core/IO.h@{packages/Eigen.3.3.3/build/native/include/Eigen/src/Core/IO.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2006-\/2008\ Benoit\ Jacob\ <jacob.benoit.1@gmail.com>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ Copyright\ (C)\ 2008\ Gael\ Guennebaud\ <gael.guennebaud@inria.fr>}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_IO\_H}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#define\ EIGEN\_IO\_H}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{namespace\ }Eigen\ \{\ }
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{keyword}{enum}\ \{\ DontAlignCols\ =\ 1\ \};}
\DoxyCodeLine{00017\ \textcolor{keyword}{enum}\ \{\ StreamPrecision\ =\ -\/1,}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ FullPrecision\ =\ -\/2\ \};}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00021\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00022\ std::ostream\ \&\ print\_matrix(std::ostream\ \&\ s,\ \textcolor{keyword}{const}\ Derived\&\ \_m,\ \textcolor{keyword}{const}\ IOFormat\&\ fmt);}
\DoxyCodeLine{00023\ \}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00050\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1_i_o_format}{IOFormat}}}
\DoxyCodeLine{00051\ \{}
\DoxyCodeLine{00053\ \ \ \mbox{\hyperlink{struct_eigen_1_1_i_o_format_a840cac6401adc4de421260d63dc3d861}{IOFormat}}(\textcolor{keywordtype}{int}\ \_precision\ =\ StreamPrecision,\ \textcolor{keywordtype}{int}\ \_flags\ =\ 0,}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keyword}{const}\ std::string\&\ \_coeffSeparator\ =\ \textcolor{stringliteral}{"{}\ "{}},}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keyword}{const}\ std::string\&\ \_rowSeparator\ =\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}},\ \textcolor{keyword}{const}\ std::string\&\ \_rowPrefix=\textcolor{stringliteral}{"{}"{}},\ \textcolor{keyword}{const}\ std::string\&\ \_rowSuffix=\textcolor{stringliteral}{"{}"{}},}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keyword}{const}\ std::string\&\ \_matPrefix=\textcolor{stringliteral}{"{}"{}},\ \textcolor{keyword}{const}\ std::string\&\ \_matSuffix=\textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{00057\ \ \ :\ matPrefix(\_matPrefix),\ matSuffix(\_matSuffix),\ rowPrefix(\_rowPrefix),\ rowSuffix(\_rowSuffix),\ rowSeparator(\_rowSeparator),}
\DoxyCodeLine{00058\ \ \ \ \ rowSpacer(\textcolor{stringliteral}{"{}"{}}),\ coeffSeparator(\_coeffSeparator),\ precision(\_precision),\ flags(\_flags)}
\DoxyCodeLine{00059\ \ \ \{}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{comment}{//\ TODO\ check\ if\ rowPrefix,\ rowSuffix\ or\ rowSeparator\ contains\ a\ newline}}
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{comment}{//\ don't\ add\ rowSpacer\ if\ columns\ are\ not\ to\ be\ aligned}}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordflow}{if}((flags\ \&\ DontAlignCols))}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordtype}{int}\ i\ =\ int(matSuffix.length())-\/1;}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordflow}{while}\ (i>=0\ \&\&\ matSuffix[i]!=\textcolor{charliteral}{'\(\backslash\)n'})}
\DoxyCodeLine{00066\ \ \ \ \ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ rowSpacer\ +=\ \textcolor{charliteral}{'\ '};}
\DoxyCodeLine{00068\ \ \ \ \ \ \ i-\/-\/;}
\DoxyCodeLine{00069\ \ \ \ \ \}}
\DoxyCodeLine{00070\ \ \ \}}
\DoxyCodeLine{00071\ \ \ std::string\ matPrefix,\ matSuffix;}
\DoxyCodeLine{00072\ \ \ std::string\ rowPrefix,\ rowSuffix,\ rowSeparator,\ rowSpacer;}
\DoxyCodeLine{00073\ \ \ std::string\ coeffSeparator;}
\DoxyCodeLine{00074\ \ \ \textcolor{keywordtype}{int}\ precision;}
\DoxyCodeLine{00075\ \ \ \textcolor{keywordtype}{int}\ flags;}
\DoxyCodeLine{00076\ \};}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00093\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ExpressionType>}
\DoxyCodeLine{00094\ \textcolor{keyword}{class\ }WithFormat}
\DoxyCodeLine{00095\ \{}
\DoxyCodeLine{00096\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \ \ WithFormat(\textcolor{keyword}{const}\ ExpressionType\&\ matrix,\ \textcolor{keyword}{const}\ IOFormat\&\ format)}
\DoxyCodeLine{00099\ \ \ \ \ \ \ :\ m\_matrix(matrix),\ m\_format(format)}
\DoxyCodeLine{00100\ \ \ \ \ \{\}}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keyword}{friend}\ std::ostream\ \&\ operator\ <<\ (std::ostream\ \&\ s,\ \textcolor{keyword}{const}\ WithFormat\&\ wf)}
\DoxyCodeLine{00103\ \ \ \ \ \{}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ internal::print\_matrix(s,\ wf.m\_matrix.eval(),\ wf.m\_format);}
\DoxyCodeLine{00105\ \ \ \ \ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keyword}{typename}\ ExpressionType::Nested\ m\_matrix;}
\DoxyCodeLine{00109\ \ \ \ \ IOFormat\ m\_format;}
\DoxyCodeLine{00110\ \};}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \textcolor{comment}{//\ NOTE:\ This\ helper\ is\ kept\ for\ backward\ compatibility\ with\ previous\ code\ specializing}}
\DoxyCodeLine{00115\ \textcolor{comment}{//\ \ \ \ \ \ \ this\ internal::significant\_decimals\_impl\ structure.\ In\ the\ future\ we\ should\ directly}}
\DoxyCodeLine{00116\ \textcolor{comment}{//\ \ \ \ \ \ \ call\ digits10()\ which\ has\ been\ introduced\ in\ July\ 2016\ in\ 3.3.}}
\DoxyCodeLine{00117\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Scalar>}
\DoxyCodeLine{00118\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1significant__decimals__impl}{significant\_decimals\_impl}}}
\DoxyCodeLine{00119\ \{}
\DoxyCodeLine{00120\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ run()}
\DoxyCodeLine{00121\ \ \ \{}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_eigen_1_1_num_traits}{NumTraits<Scalar>::digits10}}();}
\DoxyCodeLine{00123\ \ \ \}}
\DoxyCodeLine{00124\ \};}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00128\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00129\ std::ostream\ \&\ print\_matrix(std::ostream\ \&\ s,\ \textcolor{keyword}{const}\ Derived\&\ \_m,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{struct_eigen_1_1_i_o_format}{IOFormat}}\&\ fmt)}
\DoxyCodeLine{00130\ \{}
\DoxyCodeLine{00131\ \ \ \textcolor{keywordflow}{if}(\_m.size()\ ==\ 0)}
\DoxyCodeLine{00132\ \ \ \{}
\DoxyCodeLine{00133\ \ \ \ \ s\ <<\ fmt.matPrefix\ <<\ fmt.matSuffix;}
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keywordflow}{return}\ s;}
\DoxyCodeLine{00135\ \ \ \}}
\DoxyCodeLine{00136\ \ \ }
\DoxyCodeLine{00137\ \ \ \textcolor{keyword}{typename}\ Derived::Nested\ m\ =\ \_m;}
\DoxyCodeLine{00138\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Derived::Scalar\ Scalar;}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \ \ Index\ width\ =\ 0;}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ std::streamsize\ explicit\_precision;}
\DoxyCodeLine{00143\ \ \ \textcolor{keywordflow}{if}(fmt.precision\ ==\ StreamPrecision)}
\DoxyCodeLine{00144\ \ \ \{}
\DoxyCodeLine{00145\ \ \ \ \ explicit\_precision\ =\ 0;}
\DoxyCodeLine{00146\ \ \ \}}
\DoxyCodeLine{00147\ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(fmt.precision\ ==\ FullPrecision)}
\DoxyCodeLine{00148\ \ \ \{}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordflow}{if}\ (NumTraits<Scalar>::IsInteger)}
\DoxyCodeLine{00150\ \ \ \ \ \{}
\DoxyCodeLine{00151\ \ \ \ \ \ \ explicit\_precision\ =\ 0;}
\DoxyCodeLine{00152\ \ \ \ \ \}}
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00154\ \ \ \ \ \{}
\DoxyCodeLine{00155\ \ \ \ \ \ \ explicit\_precision\ =\ significant\_decimals\_impl<Scalar>::run();}
\DoxyCodeLine{00156\ \ \ \ \ \}}
\DoxyCodeLine{00157\ \ \ \}}
\DoxyCodeLine{00158\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00159\ \ \ \{}
\DoxyCodeLine{00160\ \ \ \ \ explicit\_precision\ =\ fmt.precision;}
\DoxyCodeLine{00161\ \ \ \}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ std::streamsize\ old\_precision\ =\ 0;}
\DoxyCodeLine{00164\ \ \ \textcolor{keywordflow}{if}(explicit\_precision)\ old\_precision\ =\ s.precision(explicit\_precision);}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \textcolor{keywordtype}{bool}\ align\_cols\ =\ !(fmt.flags\ \&\ DontAlignCols);}
\DoxyCodeLine{00167\ \ \ \textcolor{keywordflow}{if}(align\_cols)}
\DoxyCodeLine{00168\ \ \ \{}
\DoxyCodeLine{00169\ \ \ \ \ \textcolor{comment}{//\ compute\ the\ largest\ width}}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keywordflow}{for}(Index\ j\ =\ 0;\ j\ <\ m.cols();\ ++j)}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ i\ =\ 0;\ i\ <\ m.rows();\ ++i)}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ std::stringstream\ sstr;}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ sstr.copyfmt(s);}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ sstr\ <<\ m.coeff(i,j);}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ width\ =\ std::max<Index>(width,\ Index(sstr.str().length()));}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00178\ \ \ \}}
\DoxyCodeLine{00179\ \ \ s\ <<\ fmt.matPrefix;}
\DoxyCodeLine{00180\ \ \ \textcolor{keywordflow}{for}(Index\ i\ =\ 0;\ i\ <\ m.rows();\ ++i)}
\DoxyCodeLine{00181\ \ \ \{}
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keywordflow}{if}\ (i)}
\DoxyCodeLine{00183\ \ \ \ \ \ \ s\ <<\ fmt.rowSpacer;}
\DoxyCodeLine{00184\ \ \ \ \ s\ <<\ fmt.rowPrefix;}
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keywordflow}{if}(width)\ s.width(width);}
\DoxyCodeLine{00186\ \ \ \ \ s\ <<\ m.coeff(i,\ 0);}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keywordflow}{for}(Index\ j\ =\ 1;\ j\ <\ m.cols();\ ++j)}
\DoxyCodeLine{00188\ \ \ \ \ \{}
\DoxyCodeLine{00189\ \ \ \ \ \ \ s\ <<\ fmt.coeffSeparator;}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (width)\ s.width(width);}
\DoxyCodeLine{00191\ \ \ \ \ \ \ s\ <<\ m.coeff(i,\ j);}
\DoxyCodeLine{00192\ \ \ \ \ \}}
\DoxyCodeLine{00193\ \ \ \ \ s\ <<\ fmt.rowSuffix;}
\DoxyCodeLine{00194\ \ \ \ \ \textcolor{keywordflow}{if}(\ i\ <\ m.rows()\ -\/\ 1)}
\DoxyCodeLine{00195\ \ \ \ \ \ \ s\ <<\ fmt.rowSeparator;}
\DoxyCodeLine{00196\ \ \ \}}
\DoxyCodeLine{00197\ \ \ s\ <<\ fmt.matSuffix;}
\DoxyCodeLine{00198\ \ \ \textcolor{keywordflow}{if}(explicit\_precision)\ s.precision(old\_precision);}
\DoxyCodeLine{00199\ \ \ \textcolor{keywordflow}{return}\ s;}
\DoxyCodeLine{00200\ \}}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \}\ \textcolor{comment}{//\ end\ namespace\ internal}}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00215\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00216\ std::ostream\ \&\ \textcolor{keyword}{operator}\ <<}
\DoxyCodeLine{00217\ (std::ostream\ \&\ s,}
\DoxyCodeLine{00218\ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_dense_base}{DenseBase<Derived>}}\ \&\ m)}
\DoxyCodeLine{00219\ \{}
\DoxyCodeLine{00220\ \ \ \textcolor{keywordflow}{return}\ internal::print\_matrix(s,\ m.eval(),\ EIGEN\_DEFAULT\_IO\_FORMAT);}
\DoxyCodeLine{00221\ \}}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \}\ \textcolor{comment}{//\ end\ namespace\ Eigen}}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_IO\_H}}

\end{DoxyCode}
