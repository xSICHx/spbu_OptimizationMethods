\doxysection{Sparse\+Matrix.\+h}
\hypertarget{_sparse_matrix_8h_source}{}\label{_sparse_matrix_8h_source}\index{packages/Eigen.3.3.3/build/native/include/Eigen/src/SparseCore/SparseMatrix.h@{packages/Eigen.3.3.3/build/native/include/Eigen/src/SparseCore/SparseMatrix.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2008-\/2014\ Gael\ Guennebaud\ <gael.guennebaud@inria.fr>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_SPARSEMATRIX\_H}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ EIGEN\_SPARSEMATRIX\_H}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{namespace\ }Eigen\ \{\ }
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00045\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00046\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Scalar,\ \textcolor{keywordtype}{int}\ \_Options,\ \textcolor{keyword}{typename}\ \_StorageIndex>}
\DoxyCodeLine{00047\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{traits}}<\mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix}}<\_Scalar,\ \_Options,\ \_StorageIndex>\ >}
\DoxyCodeLine{00048\ \{}
\DoxyCodeLine{00049\ \ \ \textcolor{keyword}{typedef}\ \_Scalar\ Scalar;}
\DoxyCodeLine{00050\ \ \ \textcolor{keyword}{typedef}\ \_StorageIndex\ StorageIndex;}
\DoxyCodeLine{00051\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{struct_eigen_1_1_sparse}{Sparse}}\ \mbox{\hyperlink{struct_eigen_1_1_sparse}{StorageKind}};}
\DoxyCodeLine{00052\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{struct_eigen_1_1_matrix_xpr}{MatrixXpr}}\ \mbox{\hyperlink{struct_eigen_1_1_matrix_xpr}{XprKind}};}
\DoxyCodeLine{00053\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00054\ \ \ \ \ RowsAtCompileTime\ =\ Dynamic,}
\DoxyCodeLine{00055\ \ \ \ \ ColsAtCompileTime\ =\ Dynamic,}
\DoxyCodeLine{00056\ \ \ \ \ MaxRowsAtCompileTime\ =\ Dynamic,}
\DoxyCodeLine{00057\ \ \ \ \ MaxColsAtCompileTime\ =\ Dynamic,}
\DoxyCodeLine{00058\ \ \ \ \ Flags\ =\ \_Options\ |\ NestByRefBit\ |\ \mbox{\hyperlink{group__flags_gae2c323957f20dfdc6cb8f44428eaec1a}{LvalueBit}}\ |\ \mbox{\hyperlink{group__flags_gaed0244284da47a2b8661261431173caf}{CompressedAccessBit}},}
\DoxyCodeLine{00059\ \ \ \ \ SupportedAccessPatterns\ =\ InnerRandomAccessPattern}
\DoxyCodeLine{00060\ \ \ \};}
\DoxyCodeLine{00061\ \};}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Scalar,\ \textcolor{keywordtype}{int}\ \_Options,\ \textcolor{keyword}{typename}\ \_StorageIndex,\ \textcolor{keywordtype}{int}\ DiagIndex>}
\DoxyCodeLine{00064\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{traits}}<\mbox{\hyperlink{class_eigen_1_1_diagonal}{Diagonal}}<\mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix}}<\_Scalar,\ \_Options,\ \_StorageIndex>,\ DiagIndex>\ >}
\DoxyCodeLine{00065\ \{}
\DoxyCodeLine{00066\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix<\_Scalar,\ \_Options,\ \_StorageIndex>}}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{MatrixType}};}
\DoxyCodeLine{00067\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1true__type}{ref\_selector<MatrixType>::type}}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1true__type}{MatrixTypeNested}};}
\DoxyCodeLine{00068\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ remove\_reference<MatrixTypeNested>::type\ \_MatrixTypeNested;}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \textcolor{keyword}{typedef}\ \_Scalar\ Scalar;}
\DoxyCodeLine{00071\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{struct_eigen_1_1_dense}{Dense}}\ \mbox{\hyperlink{struct_eigen_1_1_dense}{StorageKind}};}
\DoxyCodeLine{00072\ \ \ \textcolor{keyword}{typedef}\ \_StorageIndex\ StorageIndex;}
\DoxyCodeLine{00073\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{struct_eigen_1_1_matrix_xpr}{MatrixXpr}}\ \mbox{\hyperlink{struct_eigen_1_1_matrix_xpr}{XprKind}};}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00076\ \ \ \ \ RowsAtCompileTime\ =\ Dynamic,}
\DoxyCodeLine{00077\ \ \ \ \ ColsAtCompileTime\ =\ 1,}
\DoxyCodeLine{00078\ \ \ \ \ MaxRowsAtCompileTime\ =\ Dynamic,}
\DoxyCodeLine{00079\ \ \ \ \ MaxColsAtCompileTime\ =\ 1,}
\DoxyCodeLine{00080\ \ \ \ \ Flags\ =\ \mbox{\hyperlink{group__flags_gae2c323957f20dfdc6cb8f44428eaec1a}{LvalueBit}}}
\DoxyCodeLine{00081\ \ \ \};}
\DoxyCodeLine{00082\ \};}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Scalar,\ \textcolor{keywordtype}{int}\ \_Options,\ \textcolor{keyword}{typename}\ \_StorageIndex,\ \textcolor{keywordtype}{int}\ DiagIndex>}
\DoxyCodeLine{00085\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{traits}}<\mbox{\hyperlink{class_eigen_1_1_diagonal}{Diagonal}}<const\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix}}<\_Scalar,\ \_Options,\ \_StorageIndex>,\ DiagIndex>\ >}
\DoxyCodeLine{00086\ \ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1traits}{traits}}<Diagonal<SparseMatrix<\_Scalar,\ \_Options,\ \_StorageIndex>,\ DiagIndex>\ >}
\DoxyCodeLine{00087\ \{}
\DoxyCodeLine{00088\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00089\ \ \ \ \ Flags\ =\ 0}
\DoxyCodeLine{00090\ \ \ \};}
\DoxyCodeLine{00091\ \};}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \}\ \textcolor{comment}{//\ end\ namespace\ internal}}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Scalar,\ \textcolor{keywordtype}{int}\ \_Options,\ \textcolor{keyword}{typename}\ \_StorageIndex>}
\DoxyCodeLine{00096\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix}}}
\DoxyCodeLine{00097\ \ \ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_eigen_1_1_sparse_compressed_base}{SparseCompressedBase}}<SparseMatrix<\_Scalar,\ \_Options,\ \_StorageIndex>\ >}
\DoxyCodeLine{00098\ \{}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_sparse_compressed_base}{SparseCompressedBase<SparseMatrix>}}\ Base;}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keyword}{using\ }Base::convert\_index;}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_eigen_1_1_sparse_vector}{SparseVector}}<\_Scalar,0,\_StorageIndex>;}
\DoxyCodeLine{00102\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{class_eigen_1_1_sparse_compressed_base_a837934b33a80fe996ff20500373d3a61}{Base::isCompressed}};}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{class_eigen_1_1_sparse_compressed_base_a03de8b3da2c142ce8698a76123b3e7d3}{Base::nonZeros}};}
\DoxyCodeLine{00105\ \ \ \ \ EIGEN\_SPARSE\_PUBLIC\_INTERFACE(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix}})}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keyword}{using\ }Base::operator+=;}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keyword}{using\ }Base::operator-\/=;}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_mapped_sparse_matrix}{MappedSparseMatrix<Scalar,Flags>}}\ \mbox{\hyperlink{class_eigen_1_1_map}{Map}};}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_diagonal}{Diagonal<SparseMatrix>}}\ DiagonalReturnType;}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_diagonal}{Diagonal<const\ SparseMatrix>}}\ ConstDiagonalReturnType;}
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Base::InnerIterator\ \mbox{\hyperlink{class_eigen_1_1_inner_iterator}{InnerIterator}};}
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Base::ReverseInnerIterator\ ReverseInnerIterator;}
\DoxyCodeLine{00114\ \ \ \ \ }
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keyword}{using\ }Base::IsRowMajor;}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1internal_1_1_compressed_storage}{internal::CompressedStorage<Scalar,StorageIndex>}}\ Storage;}
\DoxyCodeLine{00118\ \ \ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00119\ \ \ \ \ \ \ Options\ =\ \_Options}
\DoxyCodeLine{00120\ \ \ \ \ \};}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Base::IndexVector\ IndexVector;}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Base::ScalarVector\ ScalarVector;}
\DoxyCodeLine{00124\ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a16a006836e920fafe73c4c5893f1544e}{SparseMatrix}}<Scalar,(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_ac6cda8abf5fc4d1e28ad8bba97f9c33fa2af043b36fe9e08df0107cf6de496165}{Flags}}\&\string~RowMajorBit)|(IsRowMajor?\mbox{\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}}:0)>\ TransposedSparseMatrix;}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ Index\ m\_outerSize;}
\DoxyCodeLine{00128\ \ \ \ \ Index\ m\_innerSize;}
\DoxyCodeLine{00129\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\ m\_outerIndex;}
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\ m\_innerNonZeros;\ \ \ \ \ \textcolor{comment}{//\ optional,\ if\ null\ then\ the\ data\ is\ compressed}}
\DoxyCodeLine{00131\ \ \ \ \ Storage\ m\_data;}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00134\ \ \ \ \ }
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keyword}{inline}\ Index\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ IsRowMajor\ ?\ m\_outerSize\ :\ m\_innerSize;\ \}}
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keyword}{inline}\ Index\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a02f9cfa31e16953a24968698b216c604}{cols}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ IsRowMajor\ ?\ m\_innerSize\ :\ m\_outerSize;\ \}}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{keyword}{inline}\ Index\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a6a1a54a17355923434a7471e6b8f2693}{innerSize}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_innerSize;\ \}}
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{keyword}{inline}\ Index\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a4e989fb0270051ae67e523594391b524}{outerSize}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_outerSize;\ \}}
\DoxyCodeLine{00144\ \ \ \ \ }
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ Scalar*\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_ad8a7af29605af66a62e5d7bba9eae97c}{valuePtr}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_data.valuePtr();\ \}}
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keyword}{inline}\ Scalar*\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a9636abec468c562a266edba42bd21d70}{valuePtr}}()\ \{\ \textcolor{keywordflow}{return}\ m\_data.valuePtr();\ \}}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_af17559adab8204bccaa2ec1e2e484193}{innerIndexPtr}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_data.indexPtr();\ \}}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a1cd59cfbd77eec43bccb665cda5cf3cc}{innerIndexPtr}}()\ \{\ \textcolor{keywordflow}{return}\ m\_data.indexPtr();\ \}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_aed8b6c615736294a1a5d56880c27e2b6}{outerIndexPtr}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_outerIndex;\ \}}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a651d9937db3d82f61138e0c33c9160ee}{outerIndexPtr}}()\ \{\ \textcolor{keywordflow}{return}\ m\_outerIndex;\ \}}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a306dfc76e11b724fb57b8807f1440b6f}{innerNonZeroPtr}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_innerNonZeros;\ \}}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a4f23d9d62a8baf41b91401ddc59c521f}{innerNonZeroPtr}}()\ \{\ \textcolor{keywordflow}{return}\ m\_innerNonZeros;\ \}}
\DoxyCodeLine{00180\ }
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keyword}{inline}\ Storage\&\ data()\ \{\ \textcolor{keywordflow}{return}\ m\_data;\ \}}
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ Storage\&\ data()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_data;\ \}}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keyword}{inline}\ Scalar\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_ae1adff7b36f6416d14593681d6c57aa4}{coeff}}(Index\ row,\ Index\ col)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00189\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00190\ \ \ \ \ \ \ eigen\_assert(row>=0\ \&\&\ row<\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}}()\ \&\&\ col>=0\ \&\&\ col<\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a02f9cfa31e16953a24968698b216c604}{cols}}());}
\DoxyCodeLine{00191\ \ \ \ \ \ \ }
\DoxyCodeLine{00192\ \ \ \ \ \ \ \textcolor{keyword}{const}\ Index\ outer\ =\ IsRowMajor\ ?\ row\ :\ col;}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \textcolor{keyword}{const}\ Index\ inner\ =\ IsRowMajor\ ?\ col\ :\ row;}
\DoxyCodeLine{00194\ \ \ \ \ \ \ Index\ end\ =\ m\_innerNonZeros\ ?\ m\_outerIndex[outer]\ +\ m\_innerNonZeros[outer]\ :\ m\_outerIndex[outer+1];}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_data.atInRange(m\_outerIndex[outer],\ end,\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}(inner));}
\DoxyCodeLine{00196\ \ \ \ \ \}}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00206\ \ \ \ \ \textcolor{keyword}{inline}\ Scalar\&\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a25b9665da94a426e5b38d69b7101574b}{coeffRef}}(Index\ row,\ Index\ col)}
\DoxyCodeLine{00207\ \ \ \ \ \{}
\DoxyCodeLine{00208\ \ \ \ \ \ \ eigen\_assert(row>=0\ \&\&\ row<\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}}()\ \&\&\ col>=0\ \&\&\ col<\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a02f9cfa31e16953a24968698b216c604}{cols}}());}
\DoxyCodeLine{00209\ \ \ \ \ \ \ }
\DoxyCodeLine{00210\ \ \ \ \ \ \ \textcolor{keyword}{const}\ Index\ outer\ =\ IsRowMajor\ ?\ row\ :\ col;}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \textcolor{keyword}{const}\ Index\ inner\ =\ IsRowMajor\ ?\ col\ :\ row;}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ \ \ \ \ \ \ Index\ start\ =\ m\_outerIndex[outer];}
\DoxyCodeLine{00214\ \ \ \ \ \ \ Index\ end\ =\ m\_innerNonZeros\ ?\ m\_outerIndex[outer]\ +\ m\_innerNonZeros[outer]\ :\ m\_outerIndex[outer+1];}
\DoxyCodeLine{00215\ \ \ \ \ \ \ eigen\_assert(end>=start\ \&\&\ \textcolor{stringliteral}{"{}you\ probably\ called\ coeffRef\ on\ a\ non\ finalized\ matrix"{}});}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(end<=start)}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_aae45e3b5fec7f6a0cdd10eec7c6d3666}{insert}}(row,col);}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \textcolor{keyword}{const}\ Index\ p\ =\ m\_data.searchLowerIndex(start,end-\/1,\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}(inner));}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \textcolor{keywordflow}{if}((p<end)\ \&\&\ (m\_data.index(p)==inner))}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_data.value(p);}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_aae45e3b5fec7f6a0cdd10eec7c6d3666}{insert}}(row,col);}
\DoxyCodeLine{00223\ \ \ \ \ \}}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00240\ \ \ \ \ Scalar\&\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_aae45e3b5fec7f6a0cdd10eec7c6d3666}{insert}}(Index\ row,\ Index\ col);}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00251\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a10f7f628038c8100d26abda9bb359edf}{setZero}}()}
\DoxyCodeLine{00252\ \ \ \ \ \{}
\DoxyCodeLine{00253\ \ \ \ \ \ \ m\_data.clear();}
\DoxyCodeLine{00254\ \ \ \ \ \ \ memset(m\_outerIndex,\ 0,\ (m\_outerSize+1)*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}));}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(m\_innerNonZeros)}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ memset(m\_innerNonZeros,\ 0,\ (m\_outerSize)*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}));}
\DoxyCodeLine{00257\ \ \ \ \ \}}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00262\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a8fc09a7db41be6ac8202a247f2baf458}{reserve}}(Index\ reserveSize)}
\DoxyCodeLine{00263\ \ \ \ \ \{}
\DoxyCodeLine{00264\ \ \ \ \ \ \ eigen\_assert(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a837934b33a80fe996ff20500373d3a61}{isCompressed}}()\ \&\&\ \textcolor{stringliteral}{"{}This\ function\ does\ not\ make\ sense\ in\ non\ compressed\ mode."{}});}
\DoxyCodeLine{00265\ \ \ \ \ \ \ m\_data.reserve(reserveSize);}
\DoxyCodeLine{00266\ \ \ \ \ \}}
\DoxyCodeLine{00267\ \ \ \ \ }
\DoxyCodeLine{00268\ \textcolor{preprocessor}{\ \ \ \ \#ifdef\ EIGEN\_PARSED\_BY\_DOXYGEN}}
\DoxyCodeLine{00281\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SizesType>}
\DoxyCodeLine{00282\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a8fc09a7db41be6ac8202a247f2baf458}{reserve}}(\textcolor{keyword}{const}\ SizesType\&\ reserveSizes);}
\DoxyCodeLine{00283\ \textcolor{preprocessor}{\ \ \ \ \#else}}
\DoxyCodeLine{00284\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SizesType>}
\DoxyCodeLine{00285\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a8fc09a7db41be6ac8202a247f2baf458}{reserve}}(\textcolor{keyword}{const}\ SizesType\&\ reserveSizes,\ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ SizesType::value\_type\&\ enableif\ =}
\DoxyCodeLine{00286\ \ \ \ \ \#\textcolor{keywordflow}{if}\ (!EIGEN\_COMP\_MSVC)\ ||\ (EIGEN\_COMP\_MSVC>=1500)\ \textcolor{comment}{//\ MSVC\ 2005\ fails\ to\ compile\ with\ this\ typename}}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}}
\DoxyCodeLine{00288\ \ \ \ \ \#endif}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ SizesType::value\_type())}
\DoxyCodeLine{00290\ \ \ \ \ \{}
\DoxyCodeLine{00291\ \ \ \ \ \ \ EIGEN\_UNUSED\_VARIABLE(enableif);}
\DoxyCodeLine{00292\ \ \ \ \ \ \ reserveInnerVectors(reserveSizes);}
\DoxyCodeLine{00293\ \ \ \ \ \}}
\DoxyCodeLine{00294\ \textcolor{preprocessor}{\ \ \ \ \#endif\ }\textcolor{comment}{//\ EIGEN\_PARSED\_BY\_DOXYGEN}}
\DoxyCodeLine{00295\ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00296\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{class}\ SizesType>}
\DoxyCodeLine{00297\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ reserveInnerVectors(\textcolor{keyword}{const}\ SizesType\&\ reserveSizes)}
\DoxyCodeLine{00298\ \ \ \ \ \{}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a837934b33a80fe996ff20500373d3a61}{isCompressed}}())}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ Index\ totalReserveSize\ =\ 0;}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ turn\ the\ matrix\ into\ non-\/compressed\ mode}}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ m\_innerNonZeros\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\textcolor{keyword}{>}(std::malloc(m\_outerSize\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}})));}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!m\_innerNonZeros)\ internal::throw\_std\_bad\_alloc();}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ temporarily\ use\ m\_innerSizes\ to\ hold\ the\ new\ starting\ points.}}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\ newOuterIndex\ =\ m\_innerNonZeros;}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ count\ =\ 0;}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ j=0;\ j<m\_outerSize;\ ++j)}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \ \ newOuterIndex[j]\ =\ count;}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ count\ +=\ reserveSizes[j]\ +\ (m\_outerIndex[j+1]-\/m\_outerIndex[j]);}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \ \ totalReserveSize\ +=\ reserveSizes[j];}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00316\ \ \ \ \ \ \ \ \ m\_data.reserve(totalReserveSize);}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ previousOuterIndex\ =\ m\_outerIndex[m\_outerSize];}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ j=m\_outerSize-\/1;\ j>=0;\ -\/-\/j)}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ innerNNZ\ =\ previousOuterIndex\ -\/\ m\_outerIndex[j];}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ i=innerNNZ-\/1;\ i>=0;\ -\/-\/i)}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \ \ \ \ m\_data.index(newOuterIndex[j]+i)\ =\ m\_data.index(m\_outerIndex[j]+i);}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \ \ \ \ m\_data.value(newOuterIndex[j]+i)\ =\ m\_data.value(m\_outerIndex[j]+i);}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \ \ previousOuterIndex\ =\ m\_outerIndex[j];}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \ \ m\_outerIndex[j]\ =\ newOuterIndex[j];}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \ \ m\_innerNonZeros[j]\ =\ innerNNZ;}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ m\_outerIndex[m\_outerSize]\ =\ m\_outerIndex[m\_outerSize-\/1]\ +\ m\_innerNonZeros[m\_outerSize-\/1]\ +\ reserveSizes[m\_outerSize-\/1];}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ m\_data.resize(m\_outerIndex[m\_outerSize]);}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\ newOuterIndex\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\textcolor{keyword}{>}(std::malloc((m\_outerSize+1)*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}})));}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!newOuterIndex)\ internal::throw\_std\_bad\_alloc();}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ count\ =\ 0;}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ j=0;\ j<m\_outerSize;\ ++j)}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00342\ \ \ \ \ \ \ \ \ \ \ newOuterIndex[j]\ =\ count;}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ alreadyReserved\ =\ (m\_outerIndex[j+1]-\/m\_outerIndex[j])\ -\/\ m\_innerNonZeros[j];}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ toReserve\ =\ std::max<StorageIndex>(reserveSizes[j],\ alreadyReserved);}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \ \ \ \ count\ +=\ toReserve\ +\ m\_innerNonZeros[j];}
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00347\ \ \ \ \ \ \ \ \ newOuterIndex[m\_outerSize]\ =\ count;}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ m\_data.resize(count);}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ j=m\_outerSize-\/1;\ j>=0;\ -\/-\/j)}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_eigen_base_a554f30542cc2316add4b1ea0a492ff02}{Index}}\ offset\ =\ newOuterIndex[j]\ -\/\ m\_outerIndex[j];}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(offset>0)}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ innerNNZ\ =\ m\_innerNonZeros[j];}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ i=innerNNZ-\/1;\ i>=0;\ -\/-\/i)}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_data.index(newOuterIndex[j]+i)\ =\ m\_data.index(m\_outerIndex[j]+i);}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_data.value(newOuterIndex[j]+i)\ =\ m\_data.value(m\_outerIndex[j]+i);}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ std::swap(m\_outerIndex,\ newOuterIndex);}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ std::free(newOuterIndex);}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00367\ \ \ \ \ \ \ }
\DoxyCodeLine{00368\ \ \ \ \ \}}
\DoxyCodeLine{00369\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00370\ }
\DoxyCodeLine{00371\ \ \ \ \ \textcolor{comment}{//-\/-\/-\/\ low\ level\ purely\ coherent\ filling\ -\/-\/-\/}}
\DoxyCodeLine{00372\ }
\DoxyCodeLine{00383\ \ \ \ \ \textcolor{keyword}{inline}\ Scalar\&\ insertBack(Index\ row,\ Index\ col)}
\DoxyCodeLine{00384\ \ \ \ \ \{}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ insertBackByOuterInner(IsRowMajor?row:col,\ IsRowMajor?col:row);}
\DoxyCodeLine{00386\ \ \ \ \ \}}
\DoxyCodeLine{00387\ }
\DoxyCodeLine{00390\ \ \ \ \ \textcolor{keyword}{inline}\ Scalar\&\ insertBackByOuterInner(Index\ outer,\ Index\ inner)}
\DoxyCodeLine{00391\ \ \ \ \ \{}
\DoxyCodeLine{00392\ \ \ \ \ \ \ eigen\_assert(\mbox{\hyperlink{struct_eigen_1_1_eigen_base_a554f30542cc2316add4b1ea0a492ff02}{Index}}(m\_outerIndex[outer+1])\ ==\ m\_data.size()\ \&\&\ \textcolor{stringliteral}{"{}Invalid\ ordered\ insertion\ (invalid\ outer\ index)"{}});}
\DoxyCodeLine{00393\ \ \ \ \ \ \ eigen\_assert(\ (m\_outerIndex[outer+1]-\/m\_outerIndex[outer]==0\ ||\ m\_data.index(m\_data.size()-\/1)<inner)\ \&\&\ \textcolor{stringliteral}{"{}Invalid\ ordered\ insertion\ (invalid\ inner\ index)"{}});}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_eigen_base_a554f30542cc2316add4b1ea0a492ff02}{Index}}\ p\ =\ m\_outerIndex[outer+1];}
\DoxyCodeLine{00395\ \ \ \ \ \ \ ++m\_outerIndex[outer+1];}
\DoxyCodeLine{00396\ \ \ \ \ \ \ m\_data.append(Scalar(0),\ inner);}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_data.value(p);}
\DoxyCodeLine{00398\ \ \ \ \ \}}
\DoxyCodeLine{00399\ }
\DoxyCodeLine{00402\ \ \ \ \ \textcolor{keyword}{inline}\ Scalar\&\ insertBackByOuterInnerUnordered(Index\ outer,\ Index\ inner)}
\DoxyCodeLine{00403\ \ \ \ \ \{}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_eigen_base_a554f30542cc2316add4b1ea0a492ff02}{Index}}\ p\ =\ m\_outerIndex[outer+1];}
\DoxyCodeLine{00405\ \ \ \ \ \ \ ++m\_outerIndex[outer+1];}
\DoxyCodeLine{00406\ \ \ \ \ \ \ m\_data.append(Scalar(0),\ inner);}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_data.value(p);}
\DoxyCodeLine{00408\ \ \ \ \ \}}
\DoxyCodeLine{00409\ }
\DoxyCodeLine{00412\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ startVec(Index\ outer)}
\DoxyCodeLine{00413\ \ \ \ \ \{}
\DoxyCodeLine{00414\ \ \ \ \ \ \ eigen\_assert(m\_outerIndex[outer]==\mbox{\hyperlink{struct_eigen_1_1_eigen_base_a554f30542cc2316add4b1ea0a492ff02}{Index}}(m\_data.size())\ \&\&\ \textcolor{stringliteral}{"{}You\ must\ call\ startVec\ for\ each\ inner\ vector\ sequentially"{}});}
\DoxyCodeLine{00415\ \ \ \ \ \ \ eigen\_assert(m\_outerIndex[outer+1]==0\ \&\&\ \textcolor{stringliteral}{"{}You\ must\ call\ startVec\ for\ each\ inner\ vector\ sequentially"{}});}
\DoxyCodeLine{00416\ \ \ \ \ \ \ m\_outerIndex[outer+1]\ =\ m\_outerIndex[outer];}
\DoxyCodeLine{00417\ \ \ \ \ \}}
\DoxyCodeLine{00418\ }
\DoxyCodeLine{00422\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ finalize()}
\DoxyCodeLine{00423\ \ \ \ \ \{}
\DoxyCodeLine{00424\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a837934b33a80fe996ff20500373d3a61}{isCompressed}}())}
\DoxyCodeLine{00425\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a124bc57921775eb9aa2dfd9727e23472}{size}}\ =\ internal::convert\_index<StorageIndex>(m\_data.size());}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_eigen_1_1_eigen_base_a554f30542cc2316add4b1ea0a492ff02}{Index}}\ i\ =\ m\_outerSize;}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ find\ the\ last\ filled\ column}}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (i>=0\ \&\&\ m\_outerIndex[i]==0)}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ \ \ -\/-\/i;}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ ++i;}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (i<=m\_outerSize)}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ \ \ m\_outerIndex[i]\ =\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a124bc57921775eb9aa2dfd9727e23472}{size}};}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ ++i;}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00438\ \ \ \ \ \}}
\DoxyCodeLine{00439\ }
\DoxyCodeLine{00440\ \ \ \ \ \textcolor{comment}{//-\/-\/-\/}}
\DoxyCodeLine{00441\ }
\DoxyCodeLine{00442\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ InputIterators>}
\DoxyCodeLine{00443\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_acc35051d698e3973f1de5b9b78dbe345}{setFromTriplets}}(\textcolor{keyword}{const}\ InputIterators\&\ begin,\ \textcolor{keyword}{const}\ InputIterators\&\ end);}
\DoxyCodeLine{00444\ }
\DoxyCodeLine{00445\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ InputIterators,\textcolor{keyword}{typename}\ DupFunctor>}
\DoxyCodeLine{00446\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_ad3eee2d3d2a9843cd095c0207f781e7e}{setFromTriplets}}(\textcolor{keyword}{const}\ InputIterators\&\ begin,\ \textcolor{keyword}{const}\ InputIterators\&\ end,\ DupFunctor\ dup\_func);}
\DoxyCodeLine{00447\ }
\DoxyCodeLine{00448\ \ \ \ \ \textcolor{keywordtype}{void}\ sumupDuplicates()\ \{\ collapseDuplicates(\mbox{\hyperlink{struct_eigen_1_1internal_1_1scalar__sum__op}{internal::scalar\_sum\_op<Scalar,Scalar>}}());\ \}}
\DoxyCodeLine{00449\ }
\DoxyCodeLine{00450\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ DupFunctor>}
\DoxyCodeLine{00451\ \ \ \ \ \textcolor{keywordtype}{void}\ collapseDuplicates(DupFunctor\ dup\_func\ =\ DupFunctor());}
\DoxyCodeLine{00452\ }
\DoxyCodeLine{00453\ \ \ \ \ \textcolor{comment}{//-\/-\/-\/}}
\DoxyCodeLine{00454\ \ \ \ \ }
\DoxyCodeLine{00457\ \ \ \ \ Scalar\&\ insertByOuterInner(Index\ j,\ Index\ i)}
\DoxyCodeLine{00458\ \ \ \ \ \{}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_aae45e3b5fec7f6a0cdd10eec7c6d3666}{insert}}(IsRowMajor\ ?\ j\ :\ i,\ IsRowMajor\ ?\ i\ :\ j);}
\DoxyCodeLine{00460\ \ \ \ \ \}}
\DoxyCodeLine{00461\ }
\DoxyCodeLine{00464\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_af23f8852f7e0dadd28886a31dfa7e25f}{makeCompressed}}()}
\DoxyCodeLine{00465\ \ \ \ \ \{}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a837934b33a80fe996ff20500373d3a61}{isCompressed}}())}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00468\ \ \ \ \ \ \ }
\DoxyCodeLine{00469\ \ \ \ \ \ \ eigen\_internal\_assert(m\_outerIndex!=0\ \&\&\ m\_outerSize>0);}
\DoxyCodeLine{00470\ \ \ \ \ \ \ }
\DoxyCodeLine{00471\ \ \ \ \ \ \ Index\ oldStart\ =\ m\_outerIndex[1];}
\DoxyCodeLine{00472\ \ \ \ \ \ \ m\_outerIndex[1]\ =\ m\_innerNonZeros[0];}
\DoxyCodeLine{00473\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ j=1;\ j<m\_outerSize;\ ++j)}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ Index\ nextOldStart\ =\ m\_outerIndex[j+1];}
\DoxyCodeLine{00476\ \ \ \ \ \ \ \ \ Index\ offset\ =\ oldStart\ -\/\ m\_outerIndex[j];}
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(offset>0)}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ k=0;\ k<m\_innerNonZeros[j];\ ++k)}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \ \ \ \ m\_data.index(m\_outerIndex[j]+k)\ =\ m\_data.index(oldStart+k);}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \ \ \ \ m\_data.value(m\_outerIndex[j]+k)\ =\ m\_data.value(oldStart+k);}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ m\_outerIndex[j+1]\ =\ m\_outerIndex[j]\ +\ m\_innerNonZeros[j];}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ oldStart\ =\ nextOldStart;}
\DoxyCodeLine{00487\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00488\ \ \ \ \ \ \ std::free(m\_innerNonZeros);}
\DoxyCodeLine{00489\ \ \ \ \ \ \ m\_innerNonZeros\ =\ 0;}
\DoxyCodeLine{00490\ \ \ \ \ \ \ m\_data.resize(m\_outerIndex[m\_outerSize]);}
\DoxyCodeLine{00491\ \ \ \ \ \ \ m\_data.squeeze();}
\DoxyCodeLine{00492\ \ \ \ \ \}}
\DoxyCodeLine{00493\ }
\DoxyCodeLine{00495\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a2b29278b87b41516507e953ee967b0d7}{uncompress}}()}
\DoxyCodeLine{00496\ \ \ \ \ \{}
\DoxyCodeLine{00497\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(m\_innerNonZeros\ !=\ 0)}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};\ }
\DoxyCodeLine{00499\ \ \ \ \ \ \ m\_innerNonZeros\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\textcolor{keyword}{>}(std::malloc(m\_outerSize\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}})));}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (Index\ i\ =\ 0;\ i\ <\ m\_outerSize;\ i++)}
\DoxyCodeLine{00501\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00502\ \ \ \ \ \ \ \ \ m\_innerNonZeros[i]\ =\ m\_outerIndex[i+1]\ -\/\ m\_outerIndex[i];\ }
\DoxyCodeLine{00503\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00504\ \ \ \ \ \}}
\DoxyCodeLine{00505\ \ \ \ \ }
\DoxyCodeLine{00507\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0f2fabd2b69cdb041d96486fed8207a9}{prune}}(\textcolor{keyword}{const}\ Scalar\&\ reference,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_aaec8ace6efb785c81d442931c3248d88}{RealScalar}}\&\ epsilon\ =\ \mbox{\hyperlink{struct_eigen_1_1_num_traits}{NumTraits<RealScalar>::dummy\_precision}}())}
\DoxyCodeLine{00508\ \ \ \ \ \{}
\DoxyCodeLine{00509\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0f2fabd2b69cdb041d96486fed8207a9}{prune}}(default\_prunning\_func(reference,epsilon));}
\DoxyCodeLine{00510\ \ \ \ \ \}}
\DoxyCodeLine{00511\ \ \ \ \ }
\DoxyCodeLine{00519\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ KeepFunc>}
\DoxyCodeLine{00520\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a20010d75a5e6dc484860c4560346dbb4}{prune}}(\textcolor{keyword}{const}\ KeepFunc\&\ keep\ =\ KeepFunc())}
\DoxyCodeLine{00521\ \ \ \ \ \{}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \textcolor{comment}{//\ TODO\ optimize\ the\ uncompressed\ mode\ to\ avoid\ moving\ and\ allocating\ the\ data\ twice}}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_af23f8852f7e0dadd28886a31dfa7e25f}{makeCompressed}}();}
\DoxyCodeLine{00524\ }
\DoxyCodeLine{00525\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ k\ =\ 0;}
\DoxyCodeLine{00526\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ j=0;\ j<m\_outerSize;\ ++j)}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00528\ \ \ \ \ \ \ \ \ Index\ previousStart\ =\ m\_outerIndex[j];}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ m\_outerIndex[j]\ =\ k;}
\DoxyCodeLine{00530\ \ \ \ \ \ \ \ \ Index\ end\ =\ m\_outerIndex[j+1];}
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ i=previousStart;\ i<end;\ ++i)}
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00533\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(keep(IsRowMajor?j:m\_data.index(i),\ IsRowMajor?m\_data.index(i):j,\ m\_data.value(i)))}
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ \ \ \ \ m\_data.value(k)\ =\ m\_data.value(i);}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \ \ \ \ m\_data.index(k)\ =\ m\_data.index(i);}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ \ \ \ \ ++k;}
\DoxyCodeLine{00538\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00539\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00540\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00541\ \ \ \ \ \ \ m\_outerIndex[m\_outerSize]\ =\ k;}
\DoxyCodeLine{00542\ \ \ \ \ \ \ m\_data.resize(k,0);}
\DoxyCodeLine{00543\ \ \ \ \ \}}
\DoxyCodeLine{00544\ }
\DoxyCodeLine{00553\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a688393ec4c90fa05abbc17a2ac9699c7}{conservativeResize}}(Index\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}},\ Index\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a02f9cfa31e16953a24968698b216c604}{cols}})\ }
\DoxyCodeLine{00554\ \ \ \ \ \{}
\DoxyCodeLine{00555\ \ \ \ \ \ \ \textcolor{comment}{//\ No\ change}}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}}()\ ==\ rows\ \&\&\ this-\/>\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a02f9cfa31e16953a24968698b216c604}{cols}}()\ ==\ cols)\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00557\ \ \ \ \ \ \ }
\DoxyCodeLine{00558\ \ \ \ \ \ \ \textcolor{comment}{//\ If\ one\ dimension\ is\ null,\ then\ there\ is\ nothing\ to\ be\ preserved}}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}}==0\ ||\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a02f9cfa31e16953a24968698b216c604}{cols}}==0)\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a15dcd27320636526be90d60b1912e895}{resize}}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}},\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a02f9cfa31e16953a24968698b216c604}{cols}});}
\DoxyCodeLine{00560\ }
\DoxyCodeLine{00561\ \ \ \ \ \ \ Index\ innerChange\ =\ IsRowMajor\ ?\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a02f9cfa31e16953a24968698b216c604}{cols}}\ -\/\ this-\/>\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a02f9cfa31e16953a24968698b216c604}{cols}}()\ :\ rows\ -\/\ this-\/>\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}}();}
\DoxyCodeLine{00562\ \ \ \ \ \ \ Index\ outerChange\ =\ IsRowMajor\ ?\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}}\ -\/\ this-\/>\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}}()\ :\ cols\ -\/\ this-\/>\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a02f9cfa31e16953a24968698b216c604}{cols}}();}
\DoxyCodeLine{00563\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ newInnerSize\ =\ convert\_index(IsRowMajor\ ?\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a02f9cfa31e16953a24968698b216c604}{cols}}\ :\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}});}
\DoxyCodeLine{00564\ }
\DoxyCodeLine{00565\ \ \ \ \ \ \ \textcolor{comment}{//\ Deals\ with\ inner\ non\ zeros}}
\DoxyCodeLine{00566\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_innerNonZeros)}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00568\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Resize\ m\_innerNonZeros}}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ *newInnerNonZeros\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\textcolor{keyword}{>}(std::realloc(m\_innerNonZeros,\ (m\_outerSize\ +\ outerChange)\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}})));}
\DoxyCodeLine{00570\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!newInnerNonZeros)\ internal::throw\_std\_bad\_alloc();}
\DoxyCodeLine{00571\ \ \ \ \ \ \ \ \ m\_innerNonZeros\ =\ newInnerNonZeros;}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00573\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ i=m\_outerSize;\ i<m\_outerSize+outerChange;\ i++)\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00574\ \ \ \ \ \ \ \ \ \ \ m\_innerNonZeros[i]\ =\ 0;}
\DoxyCodeLine{00575\ \ \ \ \ \ \ \}\ }
\DoxyCodeLine{00576\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (innerChange\ <\ 0)\ }
\DoxyCodeLine{00577\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Inner\ size\ decreased:\ allocate\ a\ new\ m\_innerNonZeros}}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ m\_innerNonZeros\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\textcolor{keyword}{>}(std::malloc((m\_outerSize+outerChange+1)\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}})));}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!m\_innerNonZeros)\ internal::throw\_std\_bad\_alloc();}
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ i\ =\ 0;\ i\ <\ m\_outerSize;\ i++)}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ \ \ m\_innerNonZeros[i]\ =\ m\_outerIndex[i+1]\ -\/\ m\_outerIndex[i];}
\DoxyCodeLine{00583\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00584\ \ \ \ \ \ \ }
\DoxyCodeLine{00585\ \ \ \ \ \ \ \textcolor{comment}{//\ Change\ the\ m\_innerNonZeros\ in\ case\ of\ a\ decrease\ of\ inner\ size}}
\DoxyCodeLine{00586\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_innerNonZeros\ \&\&\ innerChange\ <\ 0)}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ i\ =\ 0;\ i\ <\ m\_outerSize\ +\ (std::min)(outerChange,\ Index(0));\ i++)}
\DoxyCodeLine{00589\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00590\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ \&n\ =\ m\_innerNonZeros[i];}
\DoxyCodeLine{00591\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ start\ =\ m\_outerIndex[i];}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (n\ >\ 0\ \&\&\ m\_data.index(start+n-\/1)\ >=\ newInnerSize)\ -\/-\/n;\ }
\DoxyCodeLine{00593\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00594\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00595\ \ \ \ \ \ \ }
\DoxyCodeLine{00596\ \ \ \ \ \ \ m\_innerSize\ =\ newInnerSize;}
\DoxyCodeLine{00597\ }
\DoxyCodeLine{00598\ \ \ \ \ \ \ \textcolor{comment}{//\ Re-\/allocate\ outer\ index\ structure\ if\ necessary}}
\DoxyCodeLine{00599\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (outerChange\ ==\ 0)}
\DoxyCodeLine{00600\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00602\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ *newOuterIndex\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\textcolor{keyword}{>}(std::realloc(m\_outerIndex,\ (m\_outerSize\ +\ outerChange\ +\ 1)\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}})));}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!newOuterIndex)\ internal::throw\_std\_bad\_alloc();}
\DoxyCodeLine{00604\ \ \ \ \ \ \ m\_outerIndex\ =\ newOuterIndex;}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (outerChange\ >\ 0)}
\DoxyCodeLine{00606\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00607\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ last\ =\ m\_outerSize\ ==\ 0\ ?\ 0\ :\ m\_outerIndex[m\_outerSize];}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ i=m\_outerSize;\ i<m\_outerSize+outerChange+1;\ i++)\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00609\ \ \ \ \ \ \ \ \ \ \ m\_outerIndex[i]\ =\ last;\ }
\DoxyCodeLine{00610\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00611\ \ \ \ \ \ \ m\_outerSize\ +=\ outerChange;}
\DoxyCodeLine{00612\ \ \ \ \ \}}
\DoxyCodeLine{00613\ \ \ \ \ }
\DoxyCodeLine{00621\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a15dcd27320636526be90d60b1912e895}{resize}}(Index\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}},\ Index\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a02f9cfa31e16953a24968698b216c604}{cols}})}
\DoxyCodeLine{00622\ \ \ \ \ \{}
\DoxyCodeLine{00623\ \ \ \ \ \ \ \textcolor{keyword}{const}\ Index\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a4e989fb0270051ae67e523594391b524}{outerSize}}\ =\ IsRowMajor\ ?\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}}\ :\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a02f9cfa31e16953a24968698b216c604}{cols}};}
\DoxyCodeLine{00624\ \ \ \ \ \ \ m\_innerSize\ =\ IsRowMajor\ ?\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a02f9cfa31e16953a24968698b216c604}{cols}}\ :\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}};}
\DoxyCodeLine{00625\ \ \ \ \ \ \ m\_data.clear();}
\DoxyCodeLine{00626\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_outerSize\ !=\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a4e989fb0270051ae67e523594391b524}{outerSize}}\ ||\ m\_outerSize==0)}
\DoxyCodeLine{00627\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00628\ \ \ \ \ \ \ \ \ std::free(m\_outerIndex);}
\DoxyCodeLine{00629\ \ \ \ \ \ \ \ \ m\_outerIndex\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\textcolor{keyword}{>}(std::malloc((\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a4e989fb0270051ae67e523594391b524}{outerSize}}\ +\ 1)\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}})));}
\DoxyCodeLine{00630\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!m\_outerIndex)\ internal::throw\_std\_bad\_alloc();}
\DoxyCodeLine{00631\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00632\ \ \ \ \ \ \ \ \ m\_outerSize\ =\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a4e989fb0270051ae67e523594391b524}{outerSize}};}
\DoxyCodeLine{00633\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00634\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(m\_innerNonZeros)}
\DoxyCodeLine{00635\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ std::free(m\_innerNonZeros);}
\DoxyCodeLine{00637\ \ \ \ \ \ \ \ \ m\_innerNonZeros\ =\ 0;}
\DoxyCodeLine{00638\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00639\ \ \ \ \ \ \ memset(m\_outerIndex,\ 0,\ (m\_outerSize+1)*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}));}
\DoxyCodeLine{00640\ \ \ \ \ \}}
\DoxyCodeLine{00641\ }
\DoxyCodeLine{00644\ \ \ \ \ \textcolor{keywordtype}{void}\ resizeNonZeros(Index\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a124bc57921775eb9aa2dfd9727e23472}{size}})}
\DoxyCodeLine{00645\ \ \ \ \ \{}
\DoxyCodeLine{00646\ \ \ \ \ \ \ m\_data.resize(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a124bc57921775eb9aa2dfd9727e23472}{size}});}
\DoxyCodeLine{00647\ \ \ \ \ \}}
\DoxyCodeLine{00648\ }
\DoxyCodeLine{00650\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_diagonal}{ConstDiagonalReturnType}}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a6bc031057c74338851bbafab69c2c9af}{diagonal}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_eigen_1_1_diagonal}{ConstDiagonalReturnType}}(*\textcolor{keyword}{this});\ \}}
\DoxyCodeLine{00651\ \ \ \ \ }
\DoxyCodeLine{00656\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_diagonal}{DiagonalReturnType}}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a60e8d267a32cd82b7e35b1c66d612038}{diagonal}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_eigen_1_1_diagonal}{DiagonalReturnType}}(*\textcolor{keyword}{this});\ \}}
\DoxyCodeLine{00657\ }
\DoxyCodeLine{00659\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a16a006836e920fafe73c4c5893f1544e}{SparseMatrix}}()}
\DoxyCodeLine{00660\ \ \ \ \ \ \ :\ m\_outerSize(-\/1),\ m\_innerSize(0),\ m\_outerIndex(0),\ m\_innerNonZeros(0)}
\DoxyCodeLine{00661\ \ \ \ \ \{}
\DoxyCodeLine{00662\ \ \ \ \ \ \ check\_template\_parameters();}
\DoxyCodeLine{00663\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a15dcd27320636526be90d60b1912e895}{resize}}(0,\ 0);}
\DoxyCodeLine{00664\ \ \ \ \ \}}
\DoxyCodeLine{00665\ }
\DoxyCodeLine{00667\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_ad0e65e4fda9f4d3a07b82463ecce61ce}{SparseMatrix}}(Index\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}},\ Index\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a02f9cfa31e16953a24968698b216c604}{cols}})}
\DoxyCodeLine{00668\ \ \ \ \ \ \ :\ m\_outerSize(0),\ m\_innerSize(0),\ m\_outerIndex(0),\ m\_innerNonZeros(0)}
\DoxyCodeLine{00669\ \ \ \ \ \{}
\DoxyCodeLine{00670\ \ \ \ \ \ \ check\_template\_parameters();}
\DoxyCodeLine{00671\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a15dcd27320636526be90d60b1912e895}{resize}}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}},\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a02f9cfa31e16953a24968698b216c604}{cols}});}
\DoxyCodeLine{00672\ \ \ \ \ \}}
\DoxyCodeLine{00673\ }
\DoxyCodeLine{00675\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ OtherDerived>}
\DoxyCodeLine{00676\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_ad4696bceb7853b755fd0c710205bcd06}{SparseMatrix}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base}{SparseMatrixBase<OtherDerived>}}\&\ other)}
\DoxyCodeLine{00677\ \ \ \ \ \ \ :\ m\_outerSize(0),\ m\_innerSize(0),\ m\_outerIndex(0),\ m\_innerNonZeros(0)}
\DoxyCodeLine{00678\ \ \ \ \ \{}
\DoxyCodeLine{00679\ \ \ \ \ \ \ EIGEN\_STATIC\_ASSERT((\mbox{\hyperlink{struct_eigen_1_1internal_1_1is__same}{internal::is\_same<Scalar,\ typename\ OtherDerived::Scalar>::value}}),}
\DoxyCodeLine{00680\ \ \ \ \ \ \ \ \ YOU\_MIXED\_DIFFERENT\_NUMERIC\_TYPES\_\_YOU\_NEED\_TO\_USE\_THE\_CAST\_METHOD\_OF\_MATRIXBASE\_TO\_CAST\_NUMERIC\_TYPES\_EXPLICITLY)}
\DoxyCodeLine{00681\ \ \ \ \ \ \ check\_template\_parameters();}
\DoxyCodeLine{00682\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ needToTranspose\ =\ (\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_ac6cda8abf5fc4d1e28ad8bba97f9c33fa2af043b36fe9e08df0107cf6de496165}{Flags}}\ \&\ \mbox{\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}})\ !=\ (\mbox{\hyperlink{struct_eigen_1_1internal_1_1evaluator}{internal::evaluator<OtherDerived>::Flags}}\ \&\ \mbox{\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}});}
\DoxyCodeLine{00683\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (needToTranspose)}
\DoxyCodeLine{00684\ \ \ \ \ \ \ \ \ *\textcolor{keyword}{this}\ =\ other.derived();}
\DoxyCodeLine{00685\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00686\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00687\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#ifdef\ EIGEN\_SPARSE\_CREATE\_TEMPORARY\_PLUGIN}}
\DoxyCodeLine{00688\ \ \ \ \ \ \ \ \ \ \ EIGEN\_SPARSE\_CREATE\_TEMPORARY\_PLUGIN}
\DoxyCodeLine{00689\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#endif}}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ internal::call\_assignment\_no\_alias(*\textcolor{keyword}{this},\ other.derived());}
\DoxyCodeLine{00691\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00692\ \ \ \ \ \}}
\DoxyCodeLine{00693\ \ \ \ \ }
\DoxyCodeLine{00695\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ OtherDerived,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ UpLo>}
\DoxyCodeLine{00696\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a4332f1256a08ecc970ca3007ef805c14}{SparseMatrix}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_sparse_self_adjoint_view}{SparseSelfAdjointView<OtherDerived,\ UpLo>}}\&\ other)}
\DoxyCodeLine{00697\ \ \ \ \ \ \ :\ m\_outerSize(0),\ m\_innerSize(0),\ m\_outerIndex(0),\ m\_innerNonZeros(0)}
\DoxyCodeLine{00698\ \ \ \ \ \{}
\DoxyCodeLine{00699\ \ \ \ \ \ \ check\_template\_parameters();}
\DoxyCodeLine{00700\ \ \ \ \ \ \ Base::operator=(other);}
\DoxyCodeLine{00701\ \ \ \ \ \}}
\DoxyCodeLine{00702\ }
\DoxyCodeLine{00704\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a24afc1f4ebbd283d925938f96fee2cbb}{SparseMatrix}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix}}\&\ other)}
\DoxyCodeLine{00705\ \ \ \ \ \ \ :\ \mbox{\hyperlink{class_eigen_1_1_sparse_compressed_base}{Base}}(),\ m\_outerSize(0),\ m\_innerSize(0),\ m\_outerIndex(0),\ m\_innerNonZeros(0)}
\DoxyCodeLine{00706\ \ \ \ \ \{}
\DoxyCodeLine{00707\ \ \ \ \ \ \ check\_template\_parameters();}
\DoxyCodeLine{00708\ \ \ \ \ \ \ *\textcolor{keyword}{this}\ =\ other.derived();}
\DoxyCodeLine{00709\ \ \ \ \ \}}
\DoxyCodeLine{00710\ }
\DoxyCodeLine{00712\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ OtherDerived>}
\DoxyCodeLine{00713\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a4fec0cc07095b03b9d80abb8e499fb74}{SparseMatrix}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_return_by_value}{ReturnByValue<OtherDerived>}}\&\ other)}
\DoxyCodeLine{00714\ \ \ \ \ \ \ :\ \mbox{\hyperlink{class_eigen_1_1_sparse_compressed_base}{Base}}(),\ m\_outerSize(0),\ m\_innerSize(0),\ m\_outerIndex(0),\ m\_innerNonZeros(0)}
\DoxyCodeLine{00715\ \ \ \ \ \{}
\DoxyCodeLine{00716\ \ \ \ \ \ \ check\_template\_parameters();}
\DoxyCodeLine{00717\ \ \ \ \ \ \ initAssignment(other);}
\DoxyCodeLine{00718\ \ \ \ \ \ \ other.evalTo(*\textcolor{keyword}{this});}
\DoxyCodeLine{00719\ \ \ \ \ \}}
\DoxyCodeLine{00720\ \ \ \ \ }
\DoxyCodeLine{00722\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ OtherDerived>}
\DoxyCodeLine{00723\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a37498864e22478e76944ef183affcbeb}{SparseMatrix}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_diagonal_base}{DiagonalBase<OtherDerived>}}\&\ other)}
\DoxyCodeLine{00724\ \ \ \ \ \ \ :\ \mbox{\hyperlink{class_eigen_1_1_sparse_compressed_base}{Base}}(),\ m\_outerSize(0),\ m\_innerSize(0),\ m\_outerIndex(0),\ m\_innerNonZeros(0)}
\DoxyCodeLine{00725\ \ \ \ \ \{}
\DoxyCodeLine{00726\ \ \ \ \ \ \ check\_template\_parameters();}
\DoxyCodeLine{00727\ \ \ \ \ \ \ *\textcolor{keyword}{this}\ =\ other.derived();}
\DoxyCodeLine{00728\ \ \ \ \ \}}
\DoxyCodeLine{00729\ }
\DoxyCodeLine{00732\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a445f8a0c5e7d735c0c0bac2e18eff835}{swap}}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix}}\&\ other)}
\DoxyCodeLine{00733\ \ \ \ \ \{}
\DoxyCodeLine{00734\ \ \ \ \ \ \ \textcolor{comment}{//EIGEN\_DBG\_SPARSE(std::cout\ <<\ "{}SparseMatrix::\ swap\(\backslash\)n"{});}}
\DoxyCodeLine{00735\ \ \ \ \ \ \ std::swap(m\_outerIndex,\ other.m\_outerIndex);}
\DoxyCodeLine{00736\ \ \ \ \ \ \ std::swap(m\_innerSize,\ other.m\_innerSize);}
\DoxyCodeLine{00737\ \ \ \ \ \ \ std::swap(m\_outerSize,\ other.m\_outerSize);}
\DoxyCodeLine{00738\ \ \ \ \ \ \ std::swap(m\_innerNonZeros,\ other.m\_innerNonZeros);}
\DoxyCodeLine{00739\ \ \ \ \ \ \ m\_data.swap(other.m\_data);}
\DoxyCodeLine{00740\ \ \ \ \ \}}
\DoxyCodeLine{00741\ }
\DoxyCodeLine{00744\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a720a3c64cc0420525a19e67b65602c4c}{setIdentity}}()}
\DoxyCodeLine{00745\ \ \ \ \ \{}
\DoxyCodeLine{00746\ \ \ \ \ \ \ eigen\_assert(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}}()\ ==\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a02f9cfa31e16953a24968698b216c604}{cols}}()\ \&\&\ \textcolor{stringliteral}{"{}ONLY\ FOR\ SQUARED\ MATRICES"{}});}
\DoxyCodeLine{00747\ \ \ \ \ \ \ this-\/>m\_data.resize(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}}());}
\DoxyCodeLine{00748\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_map}{Eigen::Map<IndexVector>}}(this-\/>m\_data.indexPtr(),\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}}()).setLinSpaced(0,\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}}()-\/1));}
\DoxyCodeLine{00749\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_map}{Eigen::Map<ScalarVector>}}(this-\/>m\_data.valuePtr(),\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}}()).setOnes();}
\DoxyCodeLine{00750\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_map}{Eigen::Map<IndexVector>}}(this-\/>m\_outerIndex,\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}}()+1).setLinSpaced(0,\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a0796a8adefc3c976877bd32621587424}{rows}}()));}
\DoxyCodeLine{00751\ \ \ \ \ \ \ std::free(m\_innerNonZeros);}
\DoxyCodeLine{00752\ \ \ \ \ \ \ m\_innerNonZeros\ =\ 0;}
\DoxyCodeLine{00753\ \ \ \ \ \}}
\DoxyCodeLine{00754\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix}}\&\ operator=(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix}}\&\ other)}
\DoxyCodeLine{00755\ \ \ \ \ \{}
\DoxyCodeLine{00756\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (other.isRValue())}
\DoxyCodeLine{00757\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00758\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a445f8a0c5e7d735c0c0bac2e18eff835}{swap}}(other.const\_cast\_derived());}
\DoxyCodeLine{00759\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00760\ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}(\textcolor{keyword}{this}!=\&other)}
\DoxyCodeLine{00761\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00762\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#ifdef\ EIGEN\_SPARSE\_CREATE\_TEMPORARY\_PLUGIN}}
\DoxyCodeLine{00763\ \ \ \ \ \ \ \ \ \ \ EIGEN\_SPARSE\_CREATE\_TEMPORARY\_PLUGIN}
\DoxyCodeLine{00764\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ \#endif}}
\DoxyCodeLine{00765\ \ \ \ \ \ \ \ \ initAssignment(other);}
\DoxyCodeLine{00766\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(other.\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a837934b33a80fe996ff20500373d3a61}{isCompressed}}())}
\DoxyCodeLine{00767\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00768\ \ \ \ \ \ \ \ \ \ \ internal::smart\_copy(other.m\_outerIndex,\ other.m\_outerIndex\ +\ m\_outerSize\ +\ 1,\ m\_outerIndex);}
\DoxyCodeLine{00769\ \ \ \ \ \ \ \ \ \ \ m\_data\ =\ other.m\_data;}
\DoxyCodeLine{00770\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00771\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00772\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00773\ \ \ \ \ \ \ \ \ \ \ Base::operator=(other);}
\DoxyCodeLine{00774\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00775\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00776\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00777\ \ \ \ \ \}}
\DoxyCodeLine{00778\ }
\DoxyCodeLine{00779\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_PARSED\_BY\_DOXYGEN}}
\DoxyCodeLine{00780\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ OtherDerived>}
\DoxyCodeLine{00781\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a16a006836e920fafe73c4c5893f1544e}{SparseMatrix}}\&\ operator=(\textcolor{keyword}{const}\ EigenBase<OtherDerived>\&\ other)}
\DoxyCodeLine{00782\ \ \ \ \ \{\ \textcolor{keywordflow}{return}\ Base::operator=(other.derived());\ \}}
\DoxyCodeLine{00783\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_PARSED\_BY\_DOXYGEN}}
\DoxyCodeLine{00784\ }
\DoxyCodeLine{00785\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ OtherDerived>}
\DoxyCodeLine{00786\ \ \ \ \ EIGEN\_DONT\_INLINE\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a16a006836e920fafe73c4c5893f1544e}{SparseMatrix}}\&\ operator=(\textcolor{keyword}{const}\ SparseMatrixBase<OtherDerived>\&\ other);}
\DoxyCodeLine{00787\ }
\DoxyCodeLine{00788\ \ \ \ \ \textcolor{keyword}{friend}\ std::ostream\ \&\ operator\ <<\ (std::ostream\ \&\ s,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a16a006836e920fafe73c4c5893f1544e}{SparseMatrix}}\&\ m)}
\DoxyCodeLine{00789\ \ \ \ \ \{}
\DoxyCodeLine{00790\ \ \ \ \ \ \ EIGEN\_DBG\_SPARSE(}
\DoxyCodeLine{00791\ \ \ \ \ \ \ \ \ s\ <<\ \textcolor{stringliteral}{"{}Nonzero\ entries:\(\backslash\)n"{}};}
\DoxyCodeLine{00792\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(m.isCompressed())}
\DoxyCodeLine{00793\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00794\ \ \ \ \ \ \ \ \ \ \ for\ (Index\ i=0;\ i<m.nonZeros();\ ++i)}
\DoxyCodeLine{00795\ \ \ \ \ \ \ \ \ \ \ \ \ s\ <<\ \textcolor{stringliteral}{"{}("{}}\ <<\ m.m\_data.value(i)\ <<\ \textcolor{stringliteral}{"{},"{}}\ <<\ m.m\_data.index(i)\ <<\ \textcolor{stringliteral}{"{})\ "{}};}
\DoxyCodeLine{00796\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00797\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00798\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00799\ \ \ \ \ \ \ \ \ \ \ for\ (Index\ i=0;\ i<m.outerSize();\ ++i)}
\DoxyCodeLine{00800\ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00801\ \ \ \ \ \ \ \ \ \ \ \ \ Index\ p\ =\ m.m\_outerIndex[i];}
\DoxyCodeLine{00802\ \ \ \ \ \ \ \ \ \ \ \ \ Index\ pe\ =\ m.m\_outerIndex[i]+m.m\_innerNonZeros[i];}
\DoxyCodeLine{00803\ \ \ \ \ \ \ \ \ \ \ \ \ Index\ k=p;}
\DoxyCodeLine{00804\ \ \ \ \ \ \ \ \ \ \ \ \ for\ (;\ k<pe;\ ++k)\ \{}
\DoxyCodeLine{00805\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s\ <<\ \textcolor{stringliteral}{"{}("{}}\ <<\ m.m\_data.value(k)\ <<\ \textcolor{stringliteral}{"{},"{}}\ <<\ m.m\_data.index(k)\ <<\ \textcolor{stringliteral}{"{})\ "{}};}
\DoxyCodeLine{00806\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00807\ \ \ \ \ \ \ \ \ \ \ \ \ for\ (;\ k<m.m\_outerIndex[i+1];\ ++k)\ \{}
\DoxyCodeLine{00808\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s\ <<\ \textcolor{stringliteral}{"{}(\_,\_)\ "{}};}
\DoxyCodeLine{00809\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00810\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00811\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00812\ \ \ \ \ \ \ \ \ s\ <<\ std::endl;}
\DoxyCodeLine{00813\ \ \ \ \ \ \ \ \ s\ <<\ std::endl;}
\DoxyCodeLine{00814\ \ \ \ \ \ \ \ \ s\ <<\ \textcolor{stringliteral}{"{}Outer\ pointers:\(\backslash\)n"{}};}
\DoxyCodeLine{00815\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (Index\ i=0;\ i<m.outerSize();\ ++i)\ \{}
\DoxyCodeLine{00816\ \ \ \ \ \ \ \ \ \ \ s\ <<\ m.m\_outerIndex[i]\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{00817\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00818\ \ \ \ \ \ \ \ \ s\ <<\ \textcolor{stringliteral}{"{}\ \$"{}}\ <<\ std::endl;}
\DoxyCodeLine{00819\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!m.isCompressed())}
\DoxyCodeLine{00820\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00821\ \ \ \ \ \ \ \ \ \ \ s\ <<\ \textcolor{stringliteral}{"{}Inner\ non\ zeros:\(\backslash\)n"{}};}
\DoxyCodeLine{00822\ \ \ \ \ \ \ \ \ \ \ for\ (Index\ i=0;\ i<m.outerSize();\ ++i)\ \{}
\DoxyCodeLine{00823\ \ \ \ \ \ \ \ \ \ \ \ \ s\ <<\ m.m\_innerNonZeros[i]\ <<\ \textcolor{stringliteral}{"{}\ "{}};}
\DoxyCodeLine{00824\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00825\ \ \ \ \ \ \ \ \ \ \ s\ <<\ \textcolor{stringliteral}{"{}\ \$"{}}\ <<\ std::endl;}
\DoxyCodeLine{00826\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00827\ \ \ \ \ \ \ \ \ s\ <<\ std::endl;}
\DoxyCodeLine{00828\ \ \ \ \ \ \ );}
\DoxyCodeLine{00829\ \ \ \ \ \ \ s\ <<\ static\_cast<const\ SparseMatrixBase<SparseMatrix>\&>(m);}
\DoxyCodeLine{00830\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ s;}
\DoxyCodeLine{00831\ \ \ \ \ \}}
\DoxyCodeLine{00832\ }
\DoxyCodeLine{00834\ \ \ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_a21aa6fd97c0fab17a4dd0e6dd3b4e7a1}{\string~SparseMatrix}}()}
\DoxyCodeLine{00835\ \ \ \ \ \{}
\DoxyCodeLine{00836\ \ \ \ \ \ \ std::free(m\_outerIndex);}
\DoxyCodeLine{00837\ \ \ \ \ \ \ std::free(m\_innerNonZeros);}
\DoxyCodeLine{00838\ \ \ \ \ \}}
\DoxyCodeLine{00839\ }
\DoxyCodeLine{00841\ \ \ \ \ Scalar\ sum()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00842\ \ \ \ \ }
\DoxyCodeLine{00843\ \textcolor{preprocessor}{\#\ \ \ ifdef\ EIGEN\_SPARSEMATRIX\_PLUGIN}}
\DoxyCodeLine{00844\ \textcolor{preprocessor}{\#\ \ \ \ \ include\ EIGEN\_SPARSEMATRIX\_PLUGIN}}
\DoxyCodeLine{00845\ \textcolor{preprocessor}{\#\ \ \ endif}}
\DoxyCodeLine{00846\ }
\DoxyCodeLine{00847\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00848\ }
\DoxyCodeLine{00849\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Other>}
\DoxyCodeLine{00850\ \ \ \ \ \textcolor{keywordtype}{void}\ initAssignment(\textcolor{keyword}{const}\ Other\&\ other)}
\DoxyCodeLine{00851\ \ \ \ \ \{}
\DoxyCodeLine{00852\ \ \ \ \ \ \ resize(other.rows(),\ other.cols());}
\DoxyCodeLine{00853\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(m\_innerNonZeros)}
\DoxyCodeLine{00854\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00855\ \ \ \ \ \ \ \ \ std::free(m\_innerNonZeros);}
\DoxyCodeLine{00856\ \ \ \ \ \ \ \ \ m\_innerNonZeros\ =\ 0;}
\DoxyCodeLine{00857\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00858\ \ \ \ \ \}}
\DoxyCodeLine{00859\ }
\DoxyCodeLine{00862\ \ \ \ \ EIGEN\_DONT\_INLINE\ Scalar\&\ insertCompressed(Index\ row,\ Index\ col);}
\DoxyCodeLine{00863\ }
\DoxyCodeLine{00866\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_1_1_singleton_vector}{SingletonVector}}}
\DoxyCodeLine{00867\ \ \ \ \ \{}
\DoxyCodeLine{00868\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ m\_index;}
\DoxyCodeLine{00869\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ m\_value;}
\DoxyCodeLine{00870\ \ \ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00871\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ value\_type;}
\DoxyCodeLine{00872\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_1_1_singleton_vector}{SingletonVector}}(Index\ i,\ Index\ v)}
\DoxyCodeLine{00873\ \ \ \ \ \ \ \ \ \ \ :\ m\_index(convert\_index(i)),\ m\_value(convert\_index(v))}
\DoxyCodeLine{00874\ \ \ \ \ \ \ \ \ \{\}}
\DoxyCodeLine{00875\ }
\DoxyCodeLine{00876\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ operator[](Index\ i)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ i==m\_index\ ?\ m\_value\ :\ 0;\ \}}
\DoxyCodeLine{00877\ \ \ \ \ \};}
\DoxyCodeLine{00878\ }
\DoxyCodeLine{00881\ \ \ \ \ EIGEN\_DONT\_INLINE\ Scalar\&\ insertUncompressed(Index\ row,\ Index\ col);}
\DoxyCodeLine{00882\ }
\DoxyCodeLine{00883\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00886\ \ \ \ \ EIGEN\_STRONG\_INLINE\ Scalar\&\ insertBackUncompressed(Index\ row,\ Index\ col)}
\DoxyCodeLine{00887\ \ \ \ \ \{}
\DoxyCodeLine{00888\ \ \ \ \ \ \ \textcolor{keyword}{const}\ Index\ outer\ =\ IsRowMajor\ ?\ row\ :\ col;}
\DoxyCodeLine{00889\ \ \ \ \ \ \ \textcolor{keyword}{const}\ Index\ inner\ =\ IsRowMajor\ ?\ col\ :\ row;}
\DoxyCodeLine{00890\ }
\DoxyCodeLine{00891\ \ \ \ \ \ \ eigen\_assert(!isCompressed());}
\DoxyCodeLine{00892\ \ \ \ \ \ \ eigen\_assert(m\_innerNonZeros[outer]<=(m\_outerIndex[outer+1]\ -\/\ m\_outerIndex[outer]));}
\DoxyCodeLine{00893\ }
\DoxyCodeLine{00894\ \ \ \ \ \ \ Index\ p\ =\ m\_outerIndex[outer]\ +\ m\_innerNonZeros[outer]++;}
\DoxyCodeLine{00895\ \ \ \ \ \ \ m\_data.index(p)\ =\ convert\_index(inner);}
\DoxyCodeLine{00896\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (m\_data.value(p)\ =\ 0);}
\DoxyCodeLine{00897\ \ \ \ \ \}}
\DoxyCodeLine{00898\ }
\DoxyCodeLine{00899\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00900\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ check\_template\_parameters()}
\DoxyCodeLine{00901\ \ \ \{}
\DoxyCodeLine{00902\ \ \ \ \ EIGEN\_STATIC\_ASSERT(\mbox{\hyperlink{struct_eigen_1_1_num_traits}{NumTraits<StorageIndex>::IsSigned}},THE\_INDEX\_TYPE\_MUST\_BE\_A\_SIGNED\_TYPE);}
\DoxyCodeLine{00903\ \ \ \ \ EIGEN\_STATIC\_ASSERT((Options\&(ColMajor|RowMajor))==Options,INVALID\_MATRIX\_TEMPLATE\_PARAMETERS);}
\DoxyCodeLine{00904\ \ \ \}}
\DoxyCodeLine{00905\ }
\DoxyCodeLine{00906\ \ \ \textcolor{keyword}{struct\ }default\_prunning\_func\ \{}
\DoxyCodeLine{00907\ \ \ \ \ default\_prunning\_func(\textcolor{keyword}{const}\ Scalar\&\ ref,\ \textcolor{keyword}{const}\ RealScalar\&\ eps)\ :\ reference(ref),\ epsilon(eps)\ \{\}}
\DoxyCodeLine{00908\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ operator()\ (\textcolor{keyword}{const}\ Index\&,\ \textcolor{keyword}{const}\ Index\&,\ \textcolor{keyword}{const}\ Scalar\&\ value)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00909\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00910\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ !internal::isMuchSmallerThan(value,\ reference,\ epsilon);}
\DoxyCodeLine{00911\ \ \ \ \ \}}
\DoxyCodeLine{00912\ \ \ \ \ Scalar\ reference;}
\DoxyCodeLine{00913\ \ \ \ \ RealScalar\ epsilon;}
\DoxyCodeLine{00914\ \ \ \};}
\DoxyCodeLine{00915\ \};}
\DoxyCodeLine{00916\ }
\DoxyCodeLine{00917\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{00918\ }
\DoxyCodeLine{00919\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ InputIterator,\ \textcolor{keyword}{typename}\ SparseMatrixType,\ \textcolor{keyword}{typename}\ DupFunctor>}
\DoxyCodeLine{00920\ \textcolor{keywordtype}{void}\ set\_from\_triplets(\textcolor{keyword}{const}\ InputIterator\&\ begin,\ \textcolor{keyword}{const}\ InputIterator\&\ end,\ SparseMatrixType\&\ mat,\ DupFunctor\ dup\_func)}
\DoxyCodeLine{00921\ \{}
\DoxyCodeLine{00922\ \ \ \textcolor{keyword}{enum}\ \{\ IsRowMajor\ =\ SparseMatrixType::IsRowMajor\ \};}
\DoxyCodeLine{00923\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ SparseMatrixType::Scalar\ Scalar;}
\DoxyCodeLine{00924\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ SparseMatrixType::StorageIndex\ StorageIndex;}
\DoxyCodeLine{00925\ \ \ SparseMatrix<Scalar,IsRowMajor?ColMajor:RowMajor,StorageIndex>\ trMat(mat.rows(),mat.cols());}
\DoxyCodeLine{00926\ }
\DoxyCodeLine{00927\ \ \ \textcolor{keywordflow}{if}(begin!=end)}
\DoxyCodeLine{00928\ \ \ \{}
\DoxyCodeLine{00929\ \ \ \ \ \textcolor{comment}{//\ pass\ 1:\ count\ the\ nnz\ per\ inner-\/vector}}
\DoxyCodeLine{00930\ \ \ \ \ \textcolor{keyword}{typename}\ SparseMatrixType::IndexVector\ wi(trMat.outerSize());}
\DoxyCodeLine{00931\ \ \ \ \ wi.setZero();}
\DoxyCodeLine{00932\ \ \ \ \ \textcolor{keywordflow}{for}(InputIterator\ it(begin);\ it!=end;\ ++it)}
\DoxyCodeLine{00933\ \ \ \ \ \{}
\DoxyCodeLine{00934\ \ \ \ \ \ \ eigen\_assert(it-\/>row()>=0\ \&\&\ it-\/>row()<mat.rows()\ \&\&\ it-\/>col()>=0\ \&\&\ it-\/>col()<mat.cols());}
\DoxyCodeLine{00935\ \ \ \ \ \ \ wi(IsRowMajor\ ?\ it-\/>col()\ :\ it-\/>row())++;}
\DoxyCodeLine{00936\ \ \ \ \ \}}
\DoxyCodeLine{00937\ }
\DoxyCodeLine{00938\ \ \ \ \ \textcolor{comment}{//\ pass\ 2:\ insert\ all\ the\ elements\ into\ trMat}}
\DoxyCodeLine{00939\ \ \ \ \ trMat.reserve(wi);}
\DoxyCodeLine{00940\ \ \ \ \ \textcolor{keywordflow}{for}(InputIterator\ it(begin);\ it!=end;\ ++it)}
\DoxyCodeLine{00941\ \ \ \ \ \ \ trMat.insertBackUncompressed(it-\/>row(),it-\/>col())\ =\ it-\/>value();}
\DoxyCodeLine{00942\ }
\DoxyCodeLine{00943\ \ \ \ \ \textcolor{comment}{//\ pass\ 3:}}
\DoxyCodeLine{00944\ \ \ \ \ trMat.collapseDuplicates(dup\_func);}
\DoxyCodeLine{00945\ \ \ \}}
\DoxyCodeLine{00946\ }
\DoxyCodeLine{00947\ \ \ \textcolor{comment}{//\ pass\ 4:\ transposed\ copy\ -\/>\ implicit\ sorting}}
\DoxyCodeLine{00948\ \ \ mat\ =\ trMat;}
\DoxyCodeLine{00949\ \}}
\DoxyCodeLine{00950\ }
\DoxyCodeLine{00951\ \}}
\DoxyCodeLine{00952\ }
\DoxyCodeLine{00953\ }
\DoxyCodeLine{00991\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Scalar,\ \textcolor{keywordtype}{int}\ \_Options,\ \textcolor{keyword}{typename}\ \_StorageIndex>}
\DoxyCodeLine{00992\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ InputIterators>}
\DoxyCodeLine{00993\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix<Scalar,\_Options,\_StorageIndex>::setFromTriplets}}(\textcolor{keyword}{const}\ InputIterators\&\ begin,\ \textcolor{keyword}{const}\ InputIterators\&\ end)}
\DoxyCodeLine{00994\ \{}
\DoxyCodeLine{00995\ \ \ internal::set\_from\_triplets<InputIterators,\ SparseMatrix<Scalar,\_Options,\_StorageIndex>\ >(begin,\ end,\ *\textcolor{keyword}{this},\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1scalar__sum__op}{internal::scalar\_sum\_op<Scalar,Scalar>}}());}
\DoxyCodeLine{00996\ \}}
\DoxyCodeLine{00997\ }
\DoxyCodeLine{01007\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Scalar,\ \textcolor{keywordtype}{int}\ \_Options,\ \textcolor{keyword}{typename}\ \_StorageIndex>}
\DoxyCodeLine{01008\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ InputIterators,\textcolor{keyword}{typename}\ DupFunctor>}
\DoxyCodeLine{01009\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix<Scalar,\_Options,\_StorageIndex>::setFromTriplets}}(\textcolor{keyword}{const}\ InputIterators\&\ begin,\ \textcolor{keyword}{const}\ InputIterators\&\ end,\ DupFunctor\ dup\_func)}
\DoxyCodeLine{01010\ \{}
\DoxyCodeLine{01011\ \ \ internal::set\_from\_triplets<InputIterators,\ SparseMatrix<Scalar,\_Options,\_StorageIndex>,\ DupFunctor>(begin,\ end,\ *\textcolor{keyword}{this},\ dup\_func);}
\DoxyCodeLine{01012\ \}}
\DoxyCodeLine{01013\ }
\DoxyCodeLine{01015\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Scalar,\ \textcolor{keywordtype}{int}\ \_Options,\ \textcolor{keyword}{typename}\ \_StorageIndex>}
\DoxyCodeLine{01016\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ DupFunctor>}
\DoxyCodeLine{01017\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix<Scalar,\_Options,\_StorageIndex>::collapseDuplicates}}(DupFunctor\ dup\_func)}
\DoxyCodeLine{01018\ \{}
\DoxyCodeLine{01019\ \ \ eigen\_assert(!isCompressed());}
\DoxyCodeLine{01020\ \ \ \textcolor{comment}{//\ TODO,\ in\ practice\ we\ should\ be\ able\ to\ use\ m\_innerNonZeros\ for\ that\ task}}
\DoxyCodeLine{01021\ \ \ IndexVector\ wi(innerSize());}
\DoxyCodeLine{01022\ \ \ wi.fill(-\/1);}
\DoxyCodeLine{01023\ \ \ StorageIndex\ count\ =\ 0;}
\DoxyCodeLine{01024\ \ \ \textcolor{comment}{//\ for\ each\ inner-\/vector,\ wi[inner\_index]\ will\ hold\ the\ position\ of\ first\ element\ into\ the\ index/value\ buffers}}
\DoxyCodeLine{01025\ \ \ \textcolor{keywordflow}{for}(Index\ j=0;\ j<outerSize();\ ++j)}
\DoxyCodeLine{01026\ \ \ \{}
\DoxyCodeLine{01027\ \ \ \ \ StorageIndex\ start\ \ \ =\ count;}
\DoxyCodeLine{01028\ \ \ \ \ Index\ oldEnd\ \ =\ m\_outerIndex[j]+m\_innerNonZeros[j];}
\DoxyCodeLine{01029\ \ \ \ \ \textcolor{keywordflow}{for}(Index\ k=m\_outerIndex[j];\ k<oldEnd;\ ++k)}
\DoxyCodeLine{01030\ \ \ \ \ \{}
\DoxyCodeLine{01031\ \ \ \ \ \ \ Index\ i\ =\ m\_data.index(k);}
\DoxyCodeLine{01032\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(wi(i)>=start)}
\DoxyCodeLine{01033\ \ \ \ \ \ \ \{}
\DoxyCodeLine{01034\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ we\ already\ meet\ this\ entry\ =>\ accumulate\ it}}
\DoxyCodeLine{01035\ \ \ \ \ \ \ \ \ m\_data.value(wi(i))\ =\ dup\_func(m\_data.value(wi(i)),\ m\_data.value(k));}
\DoxyCodeLine{01036\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01037\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01038\ \ \ \ \ \ \ \{}
\DoxyCodeLine{01039\ \ \ \ \ \ \ \ \ m\_data.value(count)\ =\ m\_data.value(k);}
\DoxyCodeLine{01040\ \ \ \ \ \ \ \ \ m\_data.index(count)\ =\ m\_data.index(k);}
\DoxyCodeLine{01041\ \ \ \ \ \ \ \ \ wi(i)\ =\ count;}
\DoxyCodeLine{01042\ \ \ \ \ \ \ \ \ ++count;}
\DoxyCodeLine{01043\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01044\ \ \ \ \ \}}
\DoxyCodeLine{01045\ \ \ \ \ m\_outerIndex[j]\ =\ start;}
\DoxyCodeLine{01046\ \ \ \}}
\DoxyCodeLine{01047\ \ \ m\_outerIndex[m\_outerSize]\ =\ count;}
\DoxyCodeLine{01048\ }
\DoxyCodeLine{01049\ \ \ \textcolor{comment}{//\ turn\ the\ matrix\ into\ compressed\ form}}
\DoxyCodeLine{01050\ \ \ std::free(m\_innerNonZeros);}
\DoxyCodeLine{01051\ \ \ m\_innerNonZeros\ =\ 0;}
\DoxyCodeLine{01052\ \ \ m\_data.resize(m\_outerIndex[m\_outerSize]);}
\DoxyCodeLine{01053\ \}}
\DoxyCodeLine{01054\ }
\DoxyCodeLine{01055\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Scalar,\ \textcolor{keywordtype}{int}\ \_Options,\ \textcolor{keyword}{typename}\ \_StorageIndex>}
\DoxyCodeLine{01056\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ OtherDerived>}
\DoxyCodeLine{01057\ EIGEN\_DONT\_INLINE\ SparseMatrix<Scalar,\_Options,\_StorageIndex>\&\ SparseMatrix<Scalar,\_Options,\_StorageIndex>::operator=(\textcolor{keyword}{const}\ SparseMatrixBase<OtherDerived>\&\ other)}
\DoxyCodeLine{01058\ \{}
\DoxyCodeLine{01059\ \ \ EIGEN\_STATIC\_ASSERT((internal::is\_same<Scalar,\ typename\ OtherDerived::Scalar>::value),}
\DoxyCodeLine{01060\ \ \ \ \ \ \ \ \ YOU\_MIXED\_DIFFERENT\_NUMERIC\_TYPES\_\_YOU\_NEED\_TO\_USE\_THE\_CAST\_METHOD\_OF\_MATRIXBASE\_TO\_CAST\_NUMERIC\_TYPES\_EXPLICITLY)}
\DoxyCodeLine{01061\ }
\DoxyCodeLine{01062\ \ \ \textcolor{preprocessor}{\#ifdef\ EIGEN\_SPARSE\_CREATE\_TEMPORARY\_PLUGIN}}
\DoxyCodeLine{01063\ \ \ \ \ EIGEN\_SPARSE\_CREATE\_TEMPORARY\_PLUGIN}
\DoxyCodeLine{01064\ \textcolor{preprocessor}{\ \ \#endif}}
\DoxyCodeLine{01065\ \ \ \ \ \ \ }
\DoxyCodeLine{01066\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ needToTranspose\ =\ (Flags\ \&\ \mbox{\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}})\ !=\ (internal::evaluator<OtherDerived>::Flags\ \&\ RowMajorBit);}
\DoxyCodeLine{01067\ \ \ \textcolor{keywordflow}{if}\ (needToTranspose)}
\DoxyCodeLine{01068\ \ \ \{}
\DoxyCodeLine{01069\ \textcolor{preprocessor}{\ \ \ \ \#ifdef\ EIGEN\_SPARSE\_TRANSPOSED\_COPY\_PLUGIN}}
\DoxyCodeLine{01070\ \ \ \ \ \ \ EIGEN\_SPARSE\_TRANSPOSED\_COPY\_PLUGIN}
\DoxyCodeLine{01071\ \textcolor{preprocessor}{\ \ \ \ \#endif}}
\DoxyCodeLine{01072\ \ \ \ \ \textcolor{comment}{//\ two\ passes\ algorithm:}}
\DoxyCodeLine{01073\ \ \ \ \ \textcolor{comment}{//\ \ 1\ -\/\ compute\ the\ number\ of\ coeffs\ per\ dest\ inner\ vector}}
\DoxyCodeLine{01074\ \ \ \ \ \textcolor{comment}{//\ \ 2\ -\/\ do\ the\ actual\ copy/eval}}
\DoxyCodeLine{01075\ \ \ \ \ \textcolor{comment}{//\ Since\ each\ coeff\ of\ the\ rhs\ has\ to\ be\ evaluated\ twice,\ let's\ evaluate\ it\ if\ needed}}
\DoxyCodeLine{01076\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ internal::nested\_eval<OtherDerived,2,typename\ internal::plain\_matrix\_type<OtherDerived>::type\ >::type\ OtherCopy;}
\DoxyCodeLine{01077\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ internal::remove\_all<OtherCopy>::type\ \_OtherCopy;}
\DoxyCodeLine{01078\ \ \ \ \ \textcolor{keyword}{typedef}\ internal::evaluator<\_OtherCopy>\ OtherCopyEval;}
\DoxyCodeLine{01079\ \ \ \ \ OtherCopy\ otherCopy(other.derived());}
\DoxyCodeLine{01080\ \ \ \ \ OtherCopyEval\ otherCopyEval(otherCopy);}
\DoxyCodeLine{01081\ }
\DoxyCodeLine{01082\ \ \ \ \ SparseMatrix\ dest(other.rows(),other.cols());}
\DoxyCodeLine{01083\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_map}{Eigen::Map<IndexVector>}}\ (dest.m\_outerIndex,dest.outerSize()).setZero();}
\DoxyCodeLine{01084\ }
\DoxyCodeLine{01085\ \ \ \ \ \textcolor{comment}{//\ pass\ 1}}
\DoxyCodeLine{01086\ \ \ \ \ \textcolor{comment}{//\ FIXME\ the\ above\ copy\ could\ be\ merged\ with\ that\ pass}}
\DoxyCodeLine{01087\ \ \ \ \ \textcolor{keywordflow}{for}\ (Index\ j=0;\ j<otherCopy.outerSize();\ ++j)}
\DoxyCodeLine{01088\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{typename}\ OtherCopyEval::InnerIterator\ it(otherCopyEval,\ j);\ it;\ ++it)}
\DoxyCodeLine{01089\ \ \ \ \ \ \ \ \ ++dest.m\_outerIndex[it.index()];}
\DoxyCodeLine{01090\ }
\DoxyCodeLine{01091\ \ \ \ \ \textcolor{comment}{//\ prefix\ sum}}
\DoxyCodeLine{01092\ \ \ \ \ StorageIndex\ count\ =\ 0;}
\DoxyCodeLine{01093\ \ \ \ \ IndexVector\ positions(dest.outerSize());}
\DoxyCodeLine{01094\ \ \ \ \ \textcolor{keywordflow}{for}\ (Index\ j=0;\ j<dest.outerSize();\ ++j)}
\DoxyCodeLine{01095\ \ \ \ \ \{}
\DoxyCodeLine{01096\ \ \ \ \ \ \ StorageIndex\ tmp\ =\ dest.m\_outerIndex[j];}
\DoxyCodeLine{01097\ \ \ \ \ \ \ dest.m\_outerIndex[j]\ =\ count;}
\DoxyCodeLine{01098\ \ \ \ \ \ \ positions[j]\ =\ count;}
\DoxyCodeLine{01099\ \ \ \ \ \ \ count\ +=\ tmp;}
\DoxyCodeLine{01100\ \ \ \ \ \}}
\DoxyCodeLine{01101\ \ \ \ \ dest.m\_outerIndex[dest.outerSize()]\ =\ count;}
\DoxyCodeLine{01102\ \ \ \ \ \textcolor{comment}{//\ alloc}}
\DoxyCodeLine{01103\ \ \ \ \ dest.m\_data.resize(count);}
\DoxyCodeLine{01104\ \ \ \ \ \textcolor{comment}{//\ pass\ 2}}
\DoxyCodeLine{01105\ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ j=0;\ j<otherCopy.outerSize();\ ++j)}
\DoxyCodeLine{01106\ \ \ \ \ \{}
\DoxyCodeLine{01107\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{typename}\ OtherCopyEval::InnerIterator\ it(otherCopyEval,\ j);\ it;\ ++it)}
\DoxyCodeLine{01108\ \ \ \ \ \ \ \{}
\DoxyCodeLine{01109\ \ \ \ \ \ \ \ \ Index\ pos\ =\ positions[it.index()]++;}
\DoxyCodeLine{01110\ \ \ \ \ \ \ \ \ dest.m\_data.index(pos)\ =\ j;}
\DoxyCodeLine{01111\ \ \ \ \ \ \ \ \ dest.m\_data.value(pos)\ =\ it.value();}
\DoxyCodeLine{01112\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01113\ \ \ \ \ \}}
\DoxyCodeLine{01114\ \ \ \ \ this-\/>swap(dest);}
\DoxyCodeLine{01115\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{01116\ \ \ \}}
\DoxyCodeLine{01117\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01118\ \ \ \{}
\DoxyCodeLine{01119\ \ \ \ \ \textcolor{keywordflow}{if}(other.isRValue())}
\DoxyCodeLine{01120\ \ \ \ \ \{}
\DoxyCodeLine{01121\ \ \ \ \ \ \ initAssignment(other.derived());}
\DoxyCodeLine{01122\ \ \ \ \ \}}
\DoxyCodeLine{01123\ \ \ \ \ \textcolor{comment}{//\ there\ is\ no\ special\ optimization}}
\DoxyCodeLine{01124\ \ \ \ \ \textcolor{keywordflow}{return}\ Base::operator=(other.derived());}
\DoxyCodeLine{01125\ \ \ \}}
\DoxyCodeLine{01126\ \}}
\DoxyCodeLine{01127\ }
\DoxyCodeLine{01128\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Scalar,\ \textcolor{keywordtype}{int}\ \_Options,\ \textcolor{keyword}{typename}\ \_StorageIndex>}
\DoxyCodeLine{01129\ \textcolor{keyword}{typename}\ SparseMatrix<\_Scalar,\_Options,\_StorageIndex>::Scalar\&\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix<\_Scalar,\_Options,\_StorageIndex>::insert}}(Index\ row,\ Index\ col)}
\DoxyCodeLine{01130\ \{}
\DoxyCodeLine{01131\ \ \ eigen\_assert(row>=0\ \&\&\ row<rows()\ \&\&\ col>=0\ \&\&\ col<cols());}
\DoxyCodeLine{01132\ \ \ }
\DoxyCodeLine{01133\ \ \ \textcolor{keyword}{const}\ Index\ outer\ =\ IsRowMajor\ ?\ row\ :\ col;}
\DoxyCodeLine{01134\ \ \ \textcolor{keyword}{const}\ Index\ inner\ =\ IsRowMajor\ ?\ col\ :\ row;}
\DoxyCodeLine{01135\ \ \ }
\DoxyCodeLine{01136\ \ \ \textcolor{keywordflow}{if}(isCompressed())}
\DoxyCodeLine{01137\ \ \ \{}
\DoxyCodeLine{01138\ \ \ \ \ \textcolor{keywordflow}{if}(nonZeros()==0)}
\DoxyCodeLine{01139\ \ \ \ \ \{}
\DoxyCodeLine{01140\ \ \ \ \ \ \ \textcolor{comment}{//\ reserve\ space\ if\ not\ already\ done}}
\DoxyCodeLine{01141\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(m\_data.allocatedSize()==0)}
\DoxyCodeLine{01142\ \ \ \ \ \ \ \ \ m\_data.reserve(2*m\_innerSize);}
\DoxyCodeLine{01143\ \ \ \ \ \ \ }
\DoxyCodeLine{01144\ \ \ \ \ \ \ \textcolor{comment}{//\ turn\ the\ matrix\ into\ non-\/compressed\ mode}}
\DoxyCodeLine{01145\ \ \ \ \ \ \ m\_innerNonZeros\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\textcolor{keyword}{>}(std::malloc(m\_outerSize\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}})));}
\DoxyCodeLine{01146\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!m\_innerNonZeros)\ internal::throw\_std\_bad\_alloc();}
\DoxyCodeLine{01147\ \ \ \ \ \ \ }
\DoxyCodeLine{01148\ \ \ \ \ \ \ memset(m\_innerNonZeros,\ 0,\ (m\_outerSize)*\textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}));}
\DoxyCodeLine{01149\ \ \ \ \ \ \ }
\DoxyCodeLine{01150\ \ \ \ \ \ \ \textcolor{comment}{//\ pack\ all\ inner-\/vectors\ to\ the\ end\ of\ the\ pre-\/allocated\ space}}
\DoxyCodeLine{01151\ \ \ \ \ \ \ \textcolor{comment}{//\ and\ allocate\ the\ entire\ free-\/space\ to\ the\ first\ inner-\/vector}}
\DoxyCodeLine{01152\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ end\ =\ convert\_index(m\_data.allocatedSize());}
\DoxyCodeLine{01153\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ j=1;\ j<=m\_outerSize;\ ++j)}
\DoxyCodeLine{01154\ \ \ \ \ \ \ \ \ m\_outerIndex[j]\ =\ end;}
\DoxyCodeLine{01155\ \ \ \ \ \}}
\DoxyCodeLine{01156\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01157\ \ \ \ \ \{}
\DoxyCodeLine{01158\ \ \ \ \ \ \ \textcolor{comment}{//\ turn\ the\ matrix\ into\ non-\/compressed\ mode}}
\DoxyCodeLine{01159\ \ \ \ \ \ \ m\_innerNonZeros\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}*\textcolor{keyword}{>}(std::malloc(m\_outerSize\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}})));}
\DoxyCodeLine{01160\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!m\_innerNonZeros)\ internal::throw\_std\_bad\_alloc();}
\DoxyCodeLine{01161\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ j=0;\ j<m\_outerSize;\ ++j)}
\DoxyCodeLine{01162\ \ \ \ \ \ \ \ \ m\_innerNonZeros[j]\ =\ m\_outerIndex[j+1]-\/m\_outerIndex[j];}
\DoxyCodeLine{01163\ \ \ \ \ \}}
\DoxyCodeLine{01164\ \ \ \}}
\DoxyCodeLine{01165\ \ \ }
\DoxyCodeLine{01166\ \ \ \textcolor{comment}{//\ check\ whether\ we\ can\ do\ a\ fast\ "{}push\ back"{}\ insertion}}
\DoxyCodeLine{01167\ \ \ Index\ data\_end\ =\ m\_data.allocatedSize();}
\DoxyCodeLine{01168\ \ \ }
\DoxyCodeLine{01169\ \ \ \textcolor{comment}{//\ First\ case:\ we\ are\ filling\ a\ new\ inner\ vector\ which\ is\ packed\ at\ the\ end.}}
\DoxyCodeLine{01170\ \ \ \textcolor{comment}{//\ We\ assume\ that\ all\ remaining\ inner-\/vectors\ are\ also\ empty\ and\ packed\ to\ the\ end.}}
\DoxyCodeLine{01171\ \ \ \textcolor{keywordflow}{if}(m\_outerIndex[outer]==data\_end)}
\DoxyCodeLine{01172\ \ \ \{}
\DoxyCodeLine{01173\ \ \ \ \ eigen\_internal\_assert(m\_innerNonZeros[outer]==0);}
\DoxyCodeLine{01174\ \ \ \ \ }
\DoxyCodeLine{01175\ \ \ \ \ \textcolor{comment}{//\ pack\ previous\ empty\ inner-\/vectors\ to\ end\ of\ the\ used-\/space}}
\DoxyCodeLine{01176\ \ \ \ \ \textcolor{comment}{//\ and\ allocate\ the\ entire\ free-\/space\ to\ the\ current\ inner-\/vector.}}
\DoxyCodeLine{01177\ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ p\ =\ convert\_index(m\_data.size());}
\DoxyCodeLine{01178\ \ \ \ \ Index\ j\ =\ outer;}
\DoxyCodeLine{01179\ \ \ \ \ \textcolor{keywordflow}{while}(j>=0\ \&\&\ m\_innerNonZeros[j]==0)}
\DoxyCodeLine{01180\ \ \ \ \ \ \ m\_outerIndex[j-\/-\/]\ =\ p;}
\DoxyCodeLine{01181\ \ \ \ \ }
\DoxyCodeLine{01182\ \ \ \ \ \textcolor{comment}{//\ push\ back\ the\ new\ element}}
\DoxyCodeLine{01183\ \ \ \ \ ++m\_innerNonZeros[outer];}
\DoxyCodeLine{01184\ \ \ \ \ m\_data.append(Scalar(0),\ inner);}
\DoxyCodeLine{01185\ \ \ \ \ }
\DoxyCodeLine{01186\ \ \ \ \ \textcolor{comment}{//\ check\ for\ reallocation}}
\DoxyCodeLine{01187\ \ \ \ \ \textcolor{keywordflow}{if}(data\_end\ !=\ m\_data.allocatedSize())}
\DoxyCodeLine{01188\ \ \ \ \ \{}
\DoxyCodeLine{01189\ \ \ \ \ \ \ \textcolor{comment}{//\ m\_data\ has\ been\ reallocated}}
\DoxyCodeLine{01190\ \ \ \ \ \ \ \textcolor{comment}{//\ \ -\/>\ move\ remaining\ inner-\/vectors\ back\ to\ the\ end\ of\ the\ free-\/space}}
\DoxyCodeLine{01191\ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ so\ that\ the\ entire\ free-\/space\ is\ allocated\ to\ the\ current\ inner-\/vector.}}
\DoxyCodeLine{01192\ \ \ \ \ \ \ eigen\_internal\_assert(data\_end\ <\ m\_data.allocatedSize());}
\DoxyCodeLine{01193\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ new\_end\ =\ convert\_index(m\_data.allocatedSize());}
\DoxyCodeLine{01194\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ k=outer+1;\ k<=m\_outerSize;\ ++k)}
\DoxyCodeLine{01195\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(m\_outerIndex[k]==data\_end)}
\DoxyCodeLine{01196\ \ \ \ \ \ \ \ \ \ \ m\_outerIndex[k]\ =\ new\_end;}
\DoxyCodeLine{01197\ \ \ \ \ \}}
\DoxyCodeLine{01198\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_data.value(p);}
\DoxyCodeLine{01199\ \ \ \}}
\DoxyCodeLine{01200\ \ \ }
\DoxyCodeLine{01201\ \ \ \textcolor{comment}{//\ Second\ case:\ the\ next\ inner-\/vector\ is\ packed\ to\ the\ end}}
\DoxyCodeLine{01202\ \ \ \textcolor{comment}{//\ and\ the\ current\ inner-\/vector\ end\ match\ the\ used-\/space.}}
\DoxyCodeLine{01203\ \ \ \textcolor{keywordflow}{if}(m\_outerIndex[outer+1]==data\_end\ \&\&\ m\_outerIndex[outer]+m\_innerNonZeros[outer]==m\_data.size())}
\DoxyCodeLine{01204\ \ \ \{}
\DoxyCodeLine{01205\ \ \ \ \ eigen\_internal\_assert(outer+1==m\_outerSize\ ||\ m\_innerNonZeros[outer+1]==0);}
\DoxyCodeLine{01206\ \ \ \ \ }
\DoxyCodeLine{01207\ \ \ \ \ \textcolor{comment}{//\ add\ space\ for\ the\ new\ element}}
\DoxyCodeLine{01208\ \ \ \ \ ++m\_innerNonZeros[outer];}
\DoxyCodeLine{01209\ \ \ \ \ m\_data.resize(m\_data.size()+1);}
\DoxyCodeLine{01210\ \ \ \ \ }
\DoxyCodeLine{01211\ \ \ \ \ \textcolor{comment}{//\ check\ for\ reallocation}}
\DoxyCodeLine{01212\ \ \ \ \ \textcolor{keywordflow}{if}(data\_end\ !=\ m\_data.allocatedSize())}
\DoxyCodeLine{01213\ \ \ \ \ \{}
\DoxyCodeLine{01214\ \ \ \ \ \ \ \textcolor{comment}{//\ m\_data\ has\ been\ reallocated}}
\DoxyCodeLine{01215\ \ \ \ \ \ \ \textcolor{comment}{//\ \ -\/>\ move\ remaining\ inner-\/vectors\ back\ to\ the\ end\ of\ the\ free-\/space}}
\DoxyCodeLine{01216\ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ so\ that\ the\ entire\ free-\/space\ is\ allocated\ to\ the\ current\ inner-\/vector.}}
\DoxyCodeLine{01217\ \ \ \ \ \ \ eigen\_internal\_assert(data\_end\ <\ m\_data.allocatedSize());}
\DoxyCodeLine{01218\ \ \ \ \ \ \ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix_base_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}}\ new\_end\ =\ convert\_index(m\_data.allocatedSize());}
\DoxyCodeLine{01219\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(Index\ k=outer+1;\ k<=m\_outerSize;\ ++k)}
\DoxyCodeLine{01220\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(m\_outerIndex[k]==data\_end)}
\DoxyCodeLine{01221\ \ \ \ \ \ \ \ \ \ \ m\_outerIndex[k]\ =\ new\_end;}
\DoxyCodeLine{01222\ \ \ \ \ \}}
\DoxyCodeLine{01223\ \ \ \ \ }
\DoxyCodeLine{01224\ \ \ \ \ \textcolor{comment}{//\ and\ insert\ it\ at\ the\ right\ position\ (sorted\ insertion)}}
\DoxyCodeLine{01225\ \ \ \ \ Index\ startId\ =\ m\_outerIndex[outer];}
\DoxyCodeLine{01226\ \ \ \ \ Index\ p\ =\ m\_outerIndex[outer]+m\_innerNonZeros[outer]-\/1;}
\DoxyCodeLine{01227\ \ \ \ \ \textcolor{keywordflow}{while}\ (\ (p\ >\ startId)\ \&\&\ (m\_data.index(p-\/1)\ >\ inner)\ )}
\DoxyCodeLine{01228\ \ \ \ \ \{}
\DoxyCodeLine{01229\ \ \ \ \ \ \ m\_data.index(p)\ =\ m\_data.index(p-\/1);}
\DoxyCodeLine{01230\ \ \ \ \ \ \ m\_data.value(p)\ =\ m\_data.value(p-\/1);}
\DoxyCodeLine{01231\ \ \ \ \ \ \ -\/-\/p;}
\DoxyCodeLine{01232\ \ \ \ \ \}}
\DoxyCodeLine{01233\ \ \ \ \ }
\DoxyCodeLine{01234\ \ \ \ \ m\_data.index(p)\ =\ convert\_index(inner);}
\DoxyCodeLine{01235\ \ \ \ \ \textcolor{keywordflow}{return}\ (m\_data.value(p)\ =\ 0);}
\DoxyCodeLine{01236\ \ \ \}}
\DoxyCodeLine{01237\ \ \ }
\DoxyCodeLine{01238\ \ \ \textcolor{keywordflow}{if}(m\_data.size()\ !=\ m\_data.allocatedSize())}
\DoxyCodeLine{01239\ \ \ \{}
\DoxyCodeLine{01240\ \ \ \ \ \textcolor{comment}{//\ make\ sure\ the\ matrix\ is\ compatible\ to\ random\ un-\/compressed\ insertion:}}
\DoxyCodeLine{01241\ \ \ \ \ m\_data.resize(m\_data.allocatedSize());}
\DoxyCodeLine{01242\ \ \ \ \ this-\/>reserveInnerVectors(\mbox{\hyperlink{class_eigen_1_1_array}{Array<StorageIndex,Dynamic,1>::Constant}}(m\_outerSize,\ 2));}
\DoxyCodeLine{01243\ \ \ \}}
\DoxyCodeLine{01244\ \ \ }
\DoxyCodeLine{01245\ \ \ \textcolor{keywordflow}{return}\ insertUncompressed(row,col);}
\DoxyCodeLine{01246\ \}}
\DoxyCodeLine{01247\ \ \ \ \ }
\DoxyCodeLine{01248\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Scalar,\ \textcolor{keywordtype}{int}\ \_Options,\ \textcolor{keyword}{typename}\ \_StorageIndex>}
\DoxyCodeLine{01249\ EIGEN\_DONT\_INLINE\ \textcolor{keyword}{typename}\ SparseMatrix<\_Scalar,\_Options,\_StorageIndex>::Scalar\&\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix<\_Scalar,\_Options,\_StorageIndex>::insertUncompressed}}(Index\ row,\ Index\ col)}
\DoxyCodeLine{01250\ \{}
\DoxyCodeLine{01251\ \ \ eigen\_assert(!isCompressed());}
\DoxyCodeLine{01252\ }
\DoxyCodeLine{01253\ \ \ \textcolor{keyword}{const}\ Index\ outer\ =\ IsRowMajor\ ?\ row\ :\ col;}
\DoxyCodeLine{01254\ \ \ \textcolor{keyword}{const}\ StorageIndex\ inner\ =\ convert\_index(IsRowMajor\ ?\ col\ :\ row);}
\DoxyCodeLine{01255\ }
\DoxyCodeLine{01256\ \ \ Index\ room\ =\ m\_outerIndex[outer+1]\ -\/\ m\_outerIndex[outer];}
\DoxyCodeLine{01257\ \ \ StorageIndex\ innerNNZ\ =\ m\_innerNonZeros[outer];}
\DoxyCodeLine{01258\ \ \ \textcolor{keywordflow}{if}(innerNNZ>=room)}
\DoxyCodeLine{01259\ \ \ \{}
\DoxyCodeLine{01260\ \ \ \ \ \textcolor{comment}{//\ this\ inner\ vector\ is\ full,\ we\ need\ to\ reallocate\ the\ whole\ buffer\ :(}}
\DoxyCodeLine{01261\ \ \ \ \ reserve(SingletonVector(outer,std::max<StorageIndex>(2,innerNNZ)));}
\DoxyCodeLine{01262\ \ \ \}}
\DoxyCodeLine{01263\ }
\DoxyCodeLine{01264\ \ \ Index\ startId\ =\ m\_outerIndex[outer];}
\DoxyCodeLine{01265\ \ \ Index\ p\ =\ startId\ +\ m\_innerNonZeros[outer];}
\DoxyCodeLine{01266\ \ \ \textcolor{keywordflow}{while}\ (\ (p\ >\ startId)\ \&\&\ (m\_data.index(p-\/1)\ >\ inner)\ )}
\DoxyCodeLine{01267\ \ \ \{}
\DoxyCodeLine{01268\ \ \ \ \ m\_data.index(p)\ =\ m\_data.index(p-\/1);}
\DoxyCodeLine{01269\ \ \ \ \ m\_data.value(p)\ =\ m\_data.value(p-\/1);}
\DoxyCodeLine{01270\ \ \ \ \ -\/-\/p;}
\DoxyCodeLine{01271\ \ \ \}}
\DoxyCodeLine{01272\ \ \ eigen\_assert((p<=startId\ ||\ m\_data.index(p-\/1)!=inner)\ \&\&\ \textcolor{stringliteral}{"{}you\ cannot\ insert\ an\ element\ that\ already\ exists,\ you\ must\ call\ coeffRef\ to\ this\ end"{}});}
\DoxyCodeLine{01273\ }
\DoxyCodeLine{01274\ \ \ m\_innerNonZeros[outer]++;}
\DoxyCodeLine{01275\ }
\DoxyCodeLine{01276\ \ \ m\_data.index(p)\ =\ inner;}
\DoxyCodeLine{01277\ \ \ \textcolor{keywordflow}{return}\ (m\_data.value(p)\ =\ 0);}
\DoxyCodeLine{01278\ \}}
\DoxyCodeLine{01279\ }
\DoxyCodeLine{01280\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Scalar,\ \textcolor{keywordtype}{int}\ \_Options,\ \textcolor{keyword}{typename}\ \_StorageIndex>}
\DoxyCodeLine{01281\ EIGEN\_DONT\_INLINE\ \textcolor{keyword}{typename}\ SparseMatrix<\_Scalar,\_Options,\_StorageIndex>::Scalar\&\ SparseMatrix<\_Scalar,\_Options,\_StorageIndex>::insertCompressed(Index\ row,\ Index\ col)}
\DoxyCodeLine{01282\ \{}
\DoxyCodeLine{01283\ \ \ eigen\_assert(isCompressed());}
\DoxyCodeLine{01284\ }
\DoxyCodeLine{01285\ \ \ \textcolor{keyword}{const}\ Index\ outer\ =\ IsRowMajor\ ?\ row\ :\ col;}
\DoxyCodeLine{01286\ \ \ \textcolor{keyword}{const}\ Index\ inner\ =\ IsRowMajor\ ?\ col\ :\ row;}
\DoxyCodeLine{01287\ }
\DoxyCodeLine{01288\ \ \ Index\ previousOuter\ =\ outer;}
\DoxyCodeLine{01289\ \ \ \textcolor{keywordflow}{if}\ (m\_outerIndex[outer+1]==0)}
\DoxyCodeLine{01290\ \ \ \{}
\DoxyCodeLine{01291\ \ \ \ \ \textcolor{comment}{//\ we\ start\ a\ new\ inner\ vector}}
\DoxyCodeLine{01292\ \ \ \ \ \textcolor{keywordflow}{while}\ (previousOuter>=0\ \&\&\ m\_outerIndex[previousOuter]==0)}
\DoxyCodeLine{01293\ \ \ \ \ \{}
\DoxyCodeLine{01294\ \ \ \ \ \ \ m\_outerIndex[previousOuter]\ =\ convert\_index(m\_data.size());}
\DoxyCodeLine{01295\ \ \ \ \ \ \ -\/-\/previousOuter;}
\DoxyCodeLine{01296\ \ \ \ \ \}}
\DoxyCodeLine{01297\ \ \ \ \ m\_outerIndex[outer+1]\ =\ m\_outerIndex[outer];}
\DoxyCodeLine{01298\ \ \ \}}
\DoxyCodeLine{01299\ }
\DoxyCodeLine{01300\ \ \ \textcolor{comment}{//\ here\ we\ have\ to\ handle\ the\ tricky\ case\ where\ the\ outerIndex\ array}}
\DoxyCodeLine{01301\ \ \ \textcolor{comment}{//\ starts\ with:\ [\ 0\ 0\ 0\ 0\ 0\ 1\ ...]\ and\ we\ are\ inserted\ in,\ e.g.,}}
\DoxyCodeLine{01302\ \ \ \textcolor{comment}{//\ the\ 2nd\ inner\ vector...}}
\DoxyCodeLine{01303\ \ \ \textcolor{keywordtype}{bool}\ isLastVec\ =\ (!(previousOuter==-\/1\ \&\&\ m\_data.size()!=0))}
\DoxyCodeLine{01304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&\&\ (std::size\_t(m\_outerIndex[outer+1])\ ==\ m\_data.size());}
\DoxyCodeLine{01305\ }
\DoxyCodeLine{01306\ \ \ std::size\_t\ startId\ =\ m\_outerIndex[outer];}
\DoxyCodeLine{01307\ \ \ \textcolor{comment}{//\ FIXME\ let's\ make\ sure\ sizeof(long\ int)\ ==\ sizeof(std::size\_t)}}
\DoxyCodeLine{01308\ \ \ std::size\_t\ p\ =\ m\_outerIndex[outer+1];}
\DoxyCodeLine{01309\ \ \ ++m\_outerIndex[outer+1];}
\DoxyCodeLine{01310\ }
\DoxyCodeLine{01311\ \ \ \textcolor{keywordtype}{double}\ reallocRatio\ =\ 1;}
\DoxyCodeLine{01312\ \ \ \textcolor{keywordflow}{if}\ (m\_data.allocatedSize()<=m\_data.size())}
\DoxyCodeLine{01313\ \ \ \{}
\DoxyCodeLine{01314\ \ \ \ \ \textcolor{comment}{//\ if\ there\ is\ no\ preallocated\ memory,\ let's\ reserve\ a\ minimum\ of\ 32\ elements}}
\DoxyCodeLine{01315\ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_data.size()==0)}
\DoxyCodeLine{01316\ \ \ \ \ \{}
\DoxyCodeLine{01317\ \ \ \ \ \ \ m\_data.reserve(32);}
\DoxyCodeLine{01318\ \ \ \ \ \}}
\DoxyCodeLine{01319\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01320\ \ \ \ \ \{}
\DoxyCodeLine{01321\ \ \ \ \ \ \ \textcolor{comment}{//\ we\ need\ to\ reallocate\ the\ data,\ to\ reduce\ multiple\ reallocations}}
\DoxyCodeLine{01322\ \ \ \ \ \ \ \textcolor{comment}{//\ we\ use\ a\ smart\ resize\ algorithm\ based\ on\ the\ current\ filling\ ratio}}
\DoxyCodeLine{01323\ \ \ \ \ \ \ \textcolor{comment}{//\ in\ addition,\ we\ use\ double\ to\ avoid\ integers\ overflows}}
\DoxyCodeLine{01324\ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ nnzEstimate\ =\ double(m\_outerIndex[outer])*double(m\_outerSize)/double(outer+1);}
\DoxyCodeLine{01325\ \ \ \ \ \ \ reallocRatio\ =\ (nnzEstimate-\/double(m\_data.size()))/\textcolor{keywordtype}{double}(m\_data.size());}
\DoxyCodeLine{01326\ \ \ \ \ \ \ \textcolor{comment}{//\ furthermore\ we\ bound\ the\ realloc\ ratio\ to:}}
\DoxyCodeLine{01327\ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ 1)\ reduce\ multiple\ minor\ realloc\ when\ the\ matrix\ is\ almost\ filled}}
\DoxyCodeLine{01328\ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ 2)\ avoid\ to\ allocate\ too\ much\ memory\ when\ the\ matrix\ is\ almost\ empty}}
\DoxyCodeLine{01329\ \ \ \ \ \ \ reallocRatio\ =\ (std::min)((std::max)(reallocRatio,1.5),8.);}
\DoxyCodeLine{01330\ \ \ \ \ \}}
\DoxyCodeLine{01331\ \ \ \}}
\DoxyCodeLine{01332\ \ \ m\_data.resize(m\_data.size()+1,reallocRatio);}
\DoxyCodeLine{01333\ }
\DoxyCodeLine{01334\ \ \ \textcolor{keywordflow}{if}\ (!isLastVec)}
\DoxyCodeLine{01335\ \ \ \{}
\DoxyCodeLine{01336\ \ \ \ \ \textcolor{keywordflow}{if}\ (previousOuter==-\/1)}
\DoxyCodeLine{01337\ \ \ \ \ \{}
\DoxyCodeLine{01338\ \ \ \ \ \ \ \textcolor{comment}{//\ oops\ wrong\ guess.}}
\DoxyCodeLine{01339\ \ \ \ \ \ \ \textcolor{comment}{//\ let's\ correct\ the\ outer\ offsets}}
\DoxyCodeLine{01340\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (Index\ k=0;\ k<=(outer+1);\ ++k)}
\DoxyCodeLine{01341\ \ \ \ \ \ \ \ \ m\_outerIndex[k]\ =\ 0;}
\DoxyCodeLine{01342\ \ \ \ \ \ \ Index\ k=outer+1;}
\DoxyCodeLine{01343\ \ \ \ \ \ \ \textcolor{keywordflow}{while}(m\_outerIndex[k]==0)}
\DoxyCodeLine{01344\ \ \ \ \ \ \ \ \ m\_outerIndex[k++]\ =\ 1;}
\DoxyCodeLine{01345\ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (k<=m\_outerSize\ \&\&\ m\_outerIndex[k]!=0)}
\DoxyCodeLine{01346\ \ \ \ \ \ \ \ \ m\_outerIndex[k++]++;}
\DoxyCodeLine{01347\ \ \ \ \ \ \ p\ =\ 0;}
\DoxyCodeLine{01348\ \ \ \ \ \ \ -\/-\/k;}
\DoxyCodeLine{01349\ \ \ \ \ \ \ k\ =\ m\_outerIndex[k]-\/1;}
\DoxyCodeLine{01350\ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (k>0)}
\DoxyCodeLine{01351\ \ \ \ \ \ \ \{}
\DoxyCodeLine{01352\ \ \ \ \ \ \ \ \ m\_data.index(k)\ =\ m\_data.index(k-\/1);}
\DoxyCodeLine{01353\ \ \ \ \ \ \ \ \ m\_data.value(k)\ =\ m\_data.value(k-\/1);}
\DoxyCodeLine{01354\ \ \ \ \ \ \ \ \ k-\/-\/;}
\DoxyCodeLine{01355\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01356\ \ \ \ \ \}}
\DoxyCodeLine{01357\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01358\ \ \ \ \ \{}
\DoxyCodeLine{01359\ \ \ \ \ \ \ \textcolor{comment}{//\ we\ are\ not\ inserting\ into\ the\ last\ inner\ vec}}
\DoxyCodeLine{01360\ \ \ \ \ \ \ \textcolor{comment}{//\ update\ outer\ indices:}}
\DoxyCodeLine{01361\ \ \ \ \ \ \ Index\ j\ =\ outer+2;}
\DoxyCodeLine{01362\ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (j<=m\_outerSize\ \&\&\ m\_outerIndex[j]!=0)}
\DoxyCodeLine{01363\ \ \ \ \ \ \ \ \ m\_outerIndex[j++]++;}
\DoxyCodeLine{01364\ \ \ \ \ \ \ -\/-\/j;}
\DoxyCodeLine{01365\ \ \ \ \ \ \ \textcolor{comment}{//\ shift\ data\ of\ last\ vecs:}}
\DoxyCodeLine{01366\ \ \ \ \ \ \ Index\ k\ =\ m\_outerIndex[j]-\/1;}
\DoxyCodeLine{01367\ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (k>=Index(p))}
\DoxyCodeLine{01368\ \ \ \ \ \ \ \{}
\DoxyCodeLine{01369\ \ \ \ \ \ \ \ \ m\_data.index(k)\ =\ m\_data.index(k-\/1);}
\DoxyCodeLine{01370\ \ \ \ \ \ \ \ \ m\_data.value(k)\ =\ m\_data.value(k-\/1);}
\DoxyCodeLine{01371\ \ \ \ \ \ \ \ \ k-\/-\/;}
\DoxyCodeLine{01372\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01373\ \ \ \ \ \}}
\DoxyCodeLine{01374\ \ \ \}}
\DoxyCodeLine{01375\ }
\DoxyCodeLine{01376\ \ \ \textcolor{keywordflow}{while}\ (\ (p\ >\ startId)\ \&\&\ (m\_data.index(p-\/1)\ >\ inner)\ )}
\DoxyCodeLine{01377\ \ \ \{}
\DoxyCodeLine{01378\ \ \ \ \ m\_data.index(p)\ =\ m\_data.index(p-\/1);}
\DoxyCodeLine{01379\ \ \ \ \ m\_data.value(p)\ =\ m\_data.value(p-\/1);}
\DoxyCodeLine{01380\ \ \ \ \ -\/-\/p;}
\DoxyCodeLine{01381\ \ \ \}}
\DoxyCodeLine{01382\ }
\DoxyCodeLine{01383\ \ \ m\_data.index(p)\ =\ inner;}
\DoxyCodeLine{01384\ \ \ \textcolor{keywordflow}{return}\ (m\_data.value(p)\ =\ 0);}
\DoxyCodeLine{01385\ \}}
\DoxyCodeLine{01386\ }
\DoxyCodeLine{01387\ \textcolor{keyword}{namespace\ }internal\ \{}
\DoxyCodeLine{01388\ }
\DoxyCodeLine{01389\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ \_Scalar,\ \textcolor{keywordtype}{int}\ \_Options,\ \textcolor{keyword}{typename}\ \_StorageIndex>}
\DoxyCodeLine{01390\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator}}<\mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix}}<\_Scalar,\_Options,\_StorageIndex>\ >}
\DoxyCodeLine{01391\ \ \ :\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator}}<SparseCompressedBase<SparseMatrix<\_Scalar,\_Options,\_StorageIndex>\ >\ >}
\DoxyCodeLine{01392\ \{}
\DoxyCodeLine{01393\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator<SparseCompressedBase<SparseMatrix<\_Scalar,\_Options,\_StorageIndex>}}\ >\ >\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1evaluator}{Base}};}
\DoxyCodeLine{01394\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrix<\_Scalar,\_Options,\_StorageIndex>}}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrixType}};}
\DoxyCodeLine{01395\ \ \ \mbox{\hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator}}()\ :\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1evaluator}{Base}}()\ \{\}}
\DoxyCodeLine{01396\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_eigen_1_1_sparse_matrix}{SparseMatrixType}}\ \&mat)\ :\ \mbox{\hyperlink{struct_eigen_1_1internal_1_1evaluator}{Base}}(mat)\ \{\}}
\DoxyCodeLine{01397\ \};}
\DoxyCodeLine{01398\ }
\DoxyCodeLine{01399\ \}}
\DoxyCodeLine{01400\ }
\DoxyCodeLine{01401\ \}\ \textcolor{comment}{//\ end\ namespace\ Eigen}}
\DoxyCodeLine{01402\ }
\DoxyCodeLine{01403\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_SPARSEMATRIX\_H}}

\end{DoxyCode}
